var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function l(){return Object.create(null)}function s(e){e.forEach(n)}function o(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function c(e){let t;return a(e,e=>t=e)(),t}function i(e,t,n){e.$$.on_destroy.push(a(t,n))}function u(e,t,n,l){if(e){const s=$(e,t,n,l);return e[0](s)}}function $(e,t,n,l){return e[1]&&l?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](l(t))):n.ctx}function f(e,t,n,l,s,o,r){const a=function(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|s[l];return e}return t.dirty|s}return t.dirty}(t,l,s,o);if(a){const s=$(t,n,l,r);e.p(s,a)}}function p(e,t,n=t){return e.set(n),t}const d="undefined"!=typeof window;let m=d?()=>window.performance.now():()=>Date.now(),g=d?e=>requestAnimationFrame(e):e;const h=new Set;function v(e){h.forEach(t=>{t.c(e)||(h.delete(t),t.f())}),0!==h.size&&g(v)}function b(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function x(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function z(){return _(" ")}function E(){return _("")}function P(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function R(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function C(e,t){e.value=null==t?"":t}function M(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function A(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function T(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function D(e,t,n){e.classList[n?"add":"remove"](t)}function N(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const j=new Set;let O,q=0;function F(e,t,n,l,s,o,r,a=0){const c=16.666/l;let i="{\n";for(let e=0;e<=1;e+=c){const l=t+(n-t)*o(e);i+=100*e+`%{${r(l,1-l)}}\n`}const u=i+`100% {${r(n,1-n)}}\n}`,$=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,f=e.ownerDocument;j.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(k("style")).sheet),d=f.__svelte_rules||(f.__svelte_rules={});d[$]||(d[$]=!0,p.insertRule(`@keyframes ${$} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${$} ${l}ms linear ${s}ms 1 both`,q+=1,$}function L(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-l.length;s&&(e.style.animation=l.join(", "),q-=s,q||g(()=>{q||(j.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),j.clear())}))}function I(e){O=e}function X(){if(!O)throw new Error("Function called outside component initialization");return O}function U(){const e=X();return(t,n)=>{const l=e.$$.callbacks[t];if(l){const s=N(t,n);l.slice().forEach(t=>{t.call(e,s)})}}}function B(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const G=[],H=[],J=[],K=[],V=Promise.resolve();let Z=!1;function Y(e){J.push(e)}function W(e){K.push(e)}let Q=!1;const ee=new Set;function te(){if(!Q){Q=!0;do{for(let e=0;e<G.length;e+=1){const t=G[e];I(t),ne(t.$$)}for(G.length=0;H.length;)H.pop()();for(let e=0;e<J.length;e+=1){const t=J[e];ee.has(t)||(ee.add(t),t())}J.length=0}while(G.length);for(;K.length;)K.pop()();Z=!1,Q=!1,ee.clear()}}function ne(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}let le;function se(e,t,n){e.dispatchEvent(N(`${t?"intro":"outro"}${n}`))}const oe=new Set;let re;function ae(){re={r:0,c:[],p:re}}function ce(){re.r||s(re.c),re=re.p}function ie(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function ue(e,t,n,l){if(e&&e.o){if(oe.has(e))return;oe.add(e),re.c.push(()=>{oe.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}const $e={duration:0};function fe(n,l,r,a){let c=l(n,r),i=a?0:1,u=null,$=null,f=null;function p(){f&&L(n,f)}function d(e,t){const n=e.b-i;return t*=Math.abs(n),{a:i,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(l){const{delay:o=0,duration:r=300,easing:a=t,tick:b=e,css:w}=c||$e,y={start:m()+o,b:l};l||(y.group=re,re.r+=1),u?$=y:(w&&(p(),f=F(n,i,l,r,o,a,w)),l&&b(0,1),u=d(y,r),Y(()=>se(n,l,"start")),function(e){let t;0===h.size&&g(v),new Promise(n=>{h.add(t={c:e,f:n})})}(e=>{if($&&e>$.start&&(u=d($,r),$=null,se(n,u.b,"start"),w&&(p(),f=F(n,i,u.b,u.duration,0,a,c.css))),u)if(e>=u.end)b(i=u.b,1-i),se(n,u.b,"end"),$||(u.b?p():--u.group.r||s(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;i=u.a+u.d*a(t/u.duration),b(i,1-i)}return!(!u&&!$)}))}return{run(e){o(c)?(le||(le=Promise.resolve(),le.then(()=>{le=null})),le).then(()=>{c=c(),b(e)}):b(e)},end(){p(),u=$=null}}}const pe="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function de(e,t){e.d(1),t.delete(e.key)}function me(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function ge(e){e&&e.c()}function he(e,t,l){const{fragment:r,on_mount:a,on_destroy:c,after_update:i}=e.$$;r&&r.m(t,l),Y(()=>{const t=a.map(n).filter(o);c?c.push(...t):s(t),e.$$.on_mount=[]}),i.forEach(Y)}function ve(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(G.push(e),Z||(Z=!0,V.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function we(t,n,o,r,a,c,i=[-1]){const u=O;I(t);const $=n.props||{},f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:l(),dirty:i,skip_bound:!1};let p=!1;if(f.ctx=o?o(t,$,(e,n,...l)=>{const s=l.length?l[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=s)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](s),p&&be(t,e)),n}):[],f.update(),p=!0,s(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&ie(t.$$.fragment),he(t,n.target,n.anchor),te()}I(u)}class ye{$destroy(){ve(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xe=[];function ke(t,n=e){let l;const s=[];function o(e){if(r(t,e)&&(t=e,l)){const e=!xe.length;for(let e=0;e<s.length;e+=1){const n=s[e];n[1](),xe.push(n,t)}if(e){for(let e=0;e<xe.length;e+=2)xe[e][0](xe[e+1]);xe.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(r,a=e){const c=[r,a];return s.push(c),1===s.length&&(l=n(o)||e),r(t),()=>{const e=s.indexOf(c);-1!==e&&s.splice(e,1),0===s.length&&(l(),l=null)}}}}const _e=new ke(""),ze=new ke(125),Ee=new ke([]),Pe=new ke([]),Re=new ke([]),Se=new ke([]),Ce=new ke([]),Me=new ke,Ae=new ke(0),Te=new ke(0),De=new ke(0),Ne=new ke(.5),je=new ke(0),Oe=new ke(0),qe=new ke([]),Fe=new ke(!1),Le=e=>`[${e.map(Ie).join(",")}]`,Ie=e=>{let t=e.map((e,t)=>{let n=(e=>{let t=JSON.stringify(e);return t=t.replace(/^(-?)0/g,"$1"),t=t.replace(/0{3,}$/g,e=>"e"+e.length),t})(e);return 0==t?"1"==n?n="":""==n&&(n="0"):1==t?".05"==n?n="":""==n&&(n="0"):2==t?"220"==n?n="":""==n&&(n="0"):5==t?".1"==n?n="":""==n&&(n="0"):7==t||17==t?"1"==n?n="":""==n&&(n="0"):"0"!==n&&"null"!==n||(n=""),n});return 0===t.length&&(t=[,0]),`[${t.join(",").replace(/,+$/g,"")}]`},Xe=e=>JSON.stringify(e).replace(/null/g,"").replace(/(\D)0(?=\D)/g,"$1").replace(/,]/g,",,]"),Ue=e=>JSON.stringify(e),Be=e=>{if(125!==e)return JSON.stringify(e)},Ge=e=>!Ke(e),He=e=>!Ve(e),Je=e=>!Ze(e),Ke=e=>Je(e)&&!isNaN(parseFloat(e)),Ve=e=>Array.isArray(e),Ze=e=>null!=e&&Object.is(e.constructor,Object),Ye=e=>{let t;return Array.isArray(e)?(t=(e=>He(e)?new Error("Missing instrument structure"):(e=[...e]).some(He)?new Error("Invalid instrument structure"):!e.flat().some(Ge)||new Error("Invalid instrument parameter type"))(e[0]),t instanceof Error?t:(t=(e=>He(e)?new Error("Missing pattern structure"):(e=[...e]).some(He)?new Error("Invalid pattern structure"):!e.flat(2).some(Ge)||new Error("Invalid pattern parameter type"))(e[1]),t instanceof Error?t:(t=(e=>He(e)?new Error("Missing sequence structure"):!(e=[...e]).some(Ge)||new Error("Invalid sequence parameter type"))(e[2]),t instanceof Error?t:void 0!==e[3]&&Ge(e[3])?new Error("Invalid speed"):void 0===e[4]||!Je(e[4])||new Error("Invalid meta data")))):new Error("Invalid song syntax")},We=e=>e.replace(/\[,/g,"[null,").replace(/,,\]/g,",null]").replace(/,\s*(?=[,\]])/g,",null").replace(/([\[,]-?)(?=\.)/g,"$10").replace(/-\./g,"-0."),Qe=e=>e.map(e=>[...e].map(e=>e||0)),et=e=>{const t=e.slice();return t.length=20,[...t].map((e,t)=>0===t&&void 0===e?1:1===t&&void 0===e?.05:2===t&&void 0===e?220:5===t&&void 0===e?.1:7===t&&void 0===e||17===t&&void 0===e?1:e||0)};let tt=0;const nt=(e,t="Instrument "+tt)=>{let n;return Ee.update(t=>(t.push(st(...e)),n=t.length-1,t)),Pe.update(e=>(e.push(t),e)),tt++,n},lt=(e,t)=>{Ee.update(n=>(n[e]=st(...t),n))},st=(...e)=>et(e),ot=(e,t,n)=>Math.max(t,Math.min(e,n)),rt=(e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n};let at=0;const ct=(e,t="Pattern "+at)=>{let n;return Re.update(t=>(t.push(e),n=t.length-1,t)),Se.update(e=>(e.push(t),e)),at++,n},it=(e=64,t=0,n=0)=>[t,n,...new Array(e).fill(0)],ut=(e,t,n,l)=>{Re.update(s=>{const o=s[e][t],r=0|o[n+2],a=rt(o[n+2]%1,2);return o[n+2]=r+ot(a+l,0,.99),s})},$t=(e,t,n,l)=>{Re.update(s=>{const o=s[e][t],r=rt(o[n+2]%1,2);return o[n+2]=l+r,s})},ft=e=>{const t=c(Re),n=c(Ce);let l=0;e%=n.length;for(let s=0;s<e;s++)l+=t[n[s]][0].length-2;return l},pt=()=>{const e=c(Re),t=c(Ce);let n=0;for(let l=0;l<t.length;l++)n+=e[t[l]][0].length-2;return n},dt=()=>{Ce.set([]),tt=0,Ee.set([]),Pe.set([]),at=0,Re.set([]),Se.set([])},mt=()=>{gt([[st(1,0,400)],[[it(64,0,-1),it(64,0,1),it(64,0,-1),it(64,0,1)]],[0],125,{title:"New Song"}])},gt=e=>{dt(),_e.set(e[4]&&e[4].title||"Untitled song"),ze.set(e[3]||125),e[0].forEach((t,n)=>{const l=e[4]&&e[4].instruments&&e[4].instruments[n];nt(t,l)}),e[1].forEach((t,n)=>{const l=e[4]&&e[4].patterns&&e[4].patterns[n];ct(t,l)}),Ce.set(e[2])},ht=()=>{return e=[c(Ee),c(Re),c(Ce),c(ze),{title:c(_e),instruments:c(Pe),patterns:c(Se)}],`[${[Le(e[0]),Xe(e[1]),Ue(e[2]),Be(e[3]),(t=e[4],JSON.stringify(t))].join(",").replace(/,+$/,"")}]`;var e,t},vt=e=>{gt((e=>{const t=We(e.replace(/^export\s+default\s+/,""));let n,l;try{n=JSON.parse(t,(e,t)=>null===t?void 0:t)}catch(e){throw new Error("Invalid song structure")}if(l=Ye(n),l instanceof Error)throw l;return n[0]=n[0].map(et),n[1]=n[1].map(Qe),n})(e))};let bt,wt,yt,xt,kt;zzfxX.suspend();let _t,zt,Et=0,Pt=0,Rt=[],St=0;const Ct=zzfxX.createGain();Ct.gain.value=.5,Ct.connect(zzfxX.destination);const Mt=async()=>{0===St&&await zzfxX.resume(),St++},At=async()=>{St--,0===St&&await zzfxX.suspend()},Tt=()=>{bt=zzfxX.createScriptProcessor(4096,0,2),bt.onaudioprocess=Ot,bt.connect(Ct)},Dt=e=>{let t=0,n=0;for(let l=0;l<_t.length;l++){let s=_t[l];if(n=t+yt[s][0].length-3,n>=e)return{sequence:l,pattern:s,row:e-t};t=n+1}return Dt(e%(n+1))};function Nt(){Et%=zt;const{sequence:e,pattern:t,row:n}=Dt(Et);_t===xt&&(De.set(e),Te.set(t)),Me.set(n),yt[t].forEach((e,t)=>{const l=e[n+2];if(l){let n=0|l,s=l%1;if(n){if(-1===n)return void(Rt[t]=null);Rt[t]={panning:e[1],attenuation:s,sample:qt(e[0],n),offset:0}}s&&Rt[t]&&(Rt[t].attenuation=s)}}),Et++}const jt=(e,t,n,l,s)=>{if(!e)return 0;const o=zzfxR/zzfxX.sampleRate,{panning:r,attenuation:a,sample:c}=e;let i=0;for(let u=t;u<t+n&&!(e.offset>=c.length);u++){const t=(1-a)*c[0|e.offset]||0;l[u]+=-t*r+t,s[u]+=t*r+t,i=Math.max(Math.abs(t),i),e.offset+=o}return i},Ot=e=>{const{outputBuffer:t}=e,n=t.getChannelData(0).fill(0),l=t.getChannelData(1).fill(0);let s,o=t.length,r=0,a=zzfxX.sampleRate/kt*60>>2;for(;o>0;){const e=Math.min(o,a-Pt);Pt>=a&&(Nt(),Pt-=a);let t=Rt.map(t=>jt(t,r,e,n,l));s||(s=t,qe.set(s)),r+=e,Pt+=e,o-=e}},qt=(e,t)=>{let n=[...wt[e]];return n[2]*=2**((t-12)/12),zzfxG(...n)},Ft=async(e,t)=>{await Mt();const n=zzfxP([...qt(e,t)]);return n.onended=At,n},Lt=async(e,t)=>{if(bt)return!1;_t=[e],Et=t?0:c(Me),Tt(),await Mt(),Fe.set(!0)},It=async e=>{if(bt)return!1;_t=xt,e||null===c(De)?Et=0:(Et=ft(c(De)),Et+=c(Me),Pt=0,Rt=[]),Tt(),await Mt(),Fe.set(!0)},Xt=async()=>{bt&&(bt.onaudioprocess=null,bt.disconnect(Ct),bt=null,qe.set([]),await At(),Fe.set(!1))};Ee.subscribe(e=>wt=e),ze.subscribe(e=>kt=e),Oe.subscribe(e=>zt=e),Re.subscribe(e=>{yt=e,Oe.set(pt())}),Ce.subscribe(e=>{xt=e,Oe.set(pt())}),Ne.subscribe(e=>{Ct.gain.value=e});const Ut={z:1,s:2,x:3,d:4,c:5,v:6,g:7,b:8,h:9,n:10,j:11,m:12,",":13,l:14,".":15,";":16,"/":17,q:18,2:19,w:20,3:21,e:22,r:23,5:24,t:25,6:26,y:27,7:28,u:29,i:30,9:31,o:32,0:33,p:34,"[":35,"=":36};function Bt(e){let t,n,l,s,o,r;const a=e[2].default,c=u(a,e,e[1],null);return{c(){t=k("div"),n=k("span"),l=_(e[0]),s=z(),o=k("span"),c&&c.c(),R(n,"class","field__label embossed svelte-1dmuw35"),R(o,"class","field__controls inset svelte-1dmuw35"),R(t,"class","field outset svelte-1dmuw35")},m(e,a){w(e,t,a),b(t,n),b(n,l),b(t,s),b(t,o),c&&c.m(o,null),r=!0},p(e,[t]){(!r||1&t)&&S(l,e[0]),c&&c.p&&2&t&&f(c,a,e,e[1],t,null,null)},i(e){r||(ie(c,e),r=!0)},o(e){ue(c,e),r=!1},d(e){e&&y(t),c&&c.d(e)}}}function Gt(e,t,n){let{label:l=""}=t,{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"label"in e&&n(0,l=e.label),"$$scope"in e&&n(1,o=e.$$scope)},[l,o,s]}class Ht extends ye{constructor(e){super(),we(this,e,Gt,Bt,r,{label:0})}}function Jt(t){let n,l,s,o,r;return{c(){n=k("button"),l=_(t[0]),R(n,"title",s=t[2]?"Shortcut: "+t[2]:""),R(n,"class","outset svelte-1t979x3"),n.disabled=t[1]},m(e,s){w(e,n,s),b(n,l),o||(r=P(n,"click",t[3]),o=!0)},p(e,[t]){1&t&&S(l,e[0]),4&t&&s!==(s=e[2]?"Shortcut: "+e[2]:"")&&R(n,"title",s),2&t&&(n.disabled=e[1])},i:e,o:e,d(e){e&&y(n),o=!1,r()}}}function Kt(e,t,n){let{label:l=""}=t,{disabled:s=!1}=t,{keyboard:o=""}=t;return e.$$set=e=>{"label"in e&&n(0,l=e.label),"disabled"in e&&n(1,s=e.disabled),"keyboard"in e&&n(2,o=e.keyboard)},[l,s,o,function(t){B(e,t)}]}class Vt extends ye{constructor(e){super(),we(this,e,Kt,Jt,r,{label:0,disabled:1,keyboard:2})}}function Zt(e){let t,n;const l=e[1].default,s=u(l,e,e[0],null);return{c(){t=k("div"),s&&s.c(),R(t,"class","toolbar svelte-9ztzo7")},m(e,l){w(e,t,l),s&&s.m(t,null),n=!0},p(e,[t]){s&&s.p&&1&t&&f(s,l,e,e[0],t,null,null)},i(e){n||(ie(s,e),n=!0)},o(e){ue(s,e),n=!1},d(e){e&&y(t),s&&s.d(e)}}}function Yt(e,t,n){let{$$slots:l={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,l]}class Wt extends ye{constructor(e){super(),we(this,e,Yt,Zt,r,{})}}const Qt=e=>({}),en=e=>({});function tn(e){let t,n,l;const s=e[1].head,o=u(s,e,e[0],en),r=e[1].default,a=u(r,e,e[0],null);return{c(){t=k("div"),o&&o.c(),n=z(),a&&a.c(),R(t,"class","pane inset svelte-1akpcxy")},m(e,s){w(e,t,s),o&&o.m(t,null),b(t,n),a&&a.m(t,null),l=!0},p(e,[t]){o&&o.p&&1&t&&f(o,s,e,e[0],t,Qt,en),a&&a.p&&1&t&&f(a,r,e,e[0],t,null,null)},i(e){l||(ie(o,e),ie(a,e),l=!0)},o(e){ue(o,e),ue(a,e),l=!1},d(e){e&&y(t),o&&o.d(e),a&&a.d(e)}}}function nn(e,t,n){let{$$slots:l={},$$scope:s}=t;return e.$$set=e=>{"$$scope"in e&&n(0,s=e.$$scope)},[s,l]}class ln extends ye{constructor(e){super(),we(this,e,nn,tn,r,{})}}function sn(e,t,n){const l=e.slice();return l[18]=t[n],l[17]=n,l}function on(e,t,n){const l=e.slice();return l[15]=t[n],l[16]=t,l[17]=n,l}function rn(e){let t,n,l,s,o,r,a,c;return t=new Vt({props:{label:"Add"}}),t.$on("click",e[5]),l=new Vt({props:{label:"Delete",disabled:!e[2]}}),l.$on("click",e[6]),o=new Vt({props:{label:"Move Left",disabled:!e[2]||0===e[0]}}),o.$on("click",e[8]),a=new Vt({props:{label:"Move Right",disabled:!e[2]||e[0]===e[1].length-1}}),a.$on("click",e[9]),{c(){ge(t.$$.fragment),n=z(),ge(l.$$.fragment),s=z(),ge(o.$$.fragment),r=z(),ge(a.$$.fragment)},m(e,i){he(t,e,i),w(e,n,i),he(l,e,i),w(e,s,i),he(o,e,i),w(e,r,i),he(a,e,i),c=!0},p(e,t){const n={};4&t&&(n.disabled=!e[2]),l.$set(n);const s={};5&t&&(s.disabled=!e[2]||0===e[0]),o.$set(s);const r={};7&t&&(r.disabled=!e[2]||e[0]===e[1].length-1),a.$set(r)},i(e){c||(ie(t.$$.fragment,e),ie(l.$$.fragment,e),ie(o.$$.fragment,e),ie(a.$$.fragment,e),c=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),ue(o.$$.fragment,e),ue(a.$$.fragment,e),c=!1},d(e){ve(t,e),e&&y(n),ve(l,e),e&&y(s),ve(o,e),e&&y(r),ve(a,e)}}}function an(e){let t,n,l,s;return t=new Ht({props:{label:"Sequence",$$slots:{default:[rn]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),n=z(),l=k("div"),R(l,"class","outset")},m(e,o){he(t,e,o),w(e,n,o),w(e,l,o),s=!0},p(e,n){const l={};1048583&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){s||(ie(t.$$.fragment,e),s=!0)},o(e){ue(t.$$.fragment,e),s=!1},d(e){ve(t,e),e&&y(n),e&&y(l)}}}function cn(e){let t,n,l;return n=new Wt({props:{$$slots:{default:[an]},$$scope:{ctx:e}}}),{c(){t=k("div"),ge(n.$$.fragment),R(t,"slot","head")},m(e,s){w(e,t,s),he(n,t,null),l=!0},p(e,t){const l={};1048583&t&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){e&&y(t),ve(n)}}}function un(e){let t;return{c(){t=k("div"),R(t,"class","marker svelte-iunbde"),M(t,"transform","translateX("+e[3]+"px")},m(e,n){w(e,t,n)},p(e,n){8&n&&M(t,"transform","translateX("+e[3]+"px")},d(e){e&&y(t)}}}function $n(e){let t,n=e[15]+"";return{c(){t=_(n)},m(e,n){w(e,t,n)},p(e,l){2&l&&n!==(n=e[15]+"")&&S(t,n)},d(e){e&&y(t)}}}function fn(e){let t,n,l,o=e[4],r=[];for(let t=0;t<o.length;t+=1)r[t]=pn(sn(e,o,t));function a(){e[12].call(t,e[16],e[17])}return{c(){t=k("select");for(let e=0;e<r.length;e+=1)r[e].c();R(t,"class","select"),void 0===e[15]&&Y(a)},m(s,o){w(s,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);A(t,e[15]),n||(l=[P(t,"change",a),P(t,"input",e[11])],n=!0)},p(n,l){if(e=n,16&l){let n;for(o=e[4],n=0;n<o.length;n+=1){const s=sn(e,o,n);r[n]?r[n].p(s,l):(r[n]=pn(s),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}2&l&&A(t,e[15])},d(e){e&&y(t),x(r,e),n=!1,s(l)}}}function pn(t){let n,l,s;return{c(){n=k("option"),l=_(t[17]),n.__value=s=t[17],n.value=n.__value},m(e,t){w(e,n,t),b(n,l)},p:e,d(e){e&&y(n)}}}function dn(e){let t,n,l,s;function o(e,t){return e[17]===e[0]?fn:$n}let r=o(e),a=r(e);function c(...t){return e[13](e[17],...t)}return{c(){t=k("div"),a.c(),n=z(),R(t,"class","pattern svelte-iunbde"),M(t,"background",e[10](e[15])),M(t,"max-width",e[4][e[15]][0].length-2+"px"),M(t,"min-width",e[4][e[15]][0].length-2+"px"),D(t,"selected",e[17]===e[0])},m(e,o){w(e,t,o),a.m(t,null),b(t,n),l||(s=P(t,"click",c),l=!0)},p(l,s){r===(r=o(e=l))&&a?a.p(e,s):(a.d(1),a=r(e),a&&(a.c(),a.m(t,n))),2&s&&M(t,"background",e[10](e[15])),18&s&&M(t,"max-width",e[4][e[15]][0].length-2+"px"),18&s&&M(t,"min-width",e[4][e[15]][0].length-2+"px"),1&s&&D(t,"selected",e[17]===e[0])},d(e){e&&y(t),a.d(),l=!1,s()}}}function mn(t){let n,l,s,o,r=t[3]>=0&&un(t),a=t[1],c=[];for(let e=0;e<a.length;e+=1)c[e]=dn(on(t,a,e));return{c(){n=z(),l=k("div"),s=k("div"),r&&r.c(),o=z();for(let e=0;e<c.length;e+=1)c[e].c();R(s,"class","sequence__patterns svelte-iunbde"),R(l,"class","sequence svelte-iunbde")},m(e,t){w(e,n,t),w(e,l,t),b(l,s),r&&r.m(s,null),b(s,o);for(let e=0;e<c.length;e+=1)c[e].m(s,null)},p(e,t){if(e[3]>=0?r?r.p(e,t):(r=un(e),r.c(),r.m(s,o)):r&&(r.d(1),r=null),1171&t){let n;for(a=e[1],n=0;n<a.length;n+=1){const l=on(e,a,n);c[n]?c[n].p(l,t):(c[n]=dn(l),c[n].c(),c[n].m(s,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i:e,o:e,d(e){e&&y(n),e&&y(l),r&&r.d(),x(c,e)}}}function gn(e){let t,n;return t=new ln({props:{$$slots:{default:[mn],head:[cn]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},p(e,[n]){const l={};1048607&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function hn(e,t,n){let l,s,o;i(e,Ce,e=>n(1,l=e)),i(e,je,e=>n(3,s=e)),i(e,Re,e=>n(4,o=e));let{selectedPosition:r=0}=t;const a=U(),c=e=>{n(0,r=e),a("select")};let u;return e.$$set=e=>{"selectedPosition"in e&&n(0,r=e.selectedPosition)},e.$$.update=()=>{1&e.$$.dirty&&n(2,u=null!==r)},[r,l,u,s,o,()=>{p(Ce,l=[...l,0]),n(0,r=l.length-1),a("select")},()=>{p(Ce,l=[...l.slice(0,r),...l.slice(r+1)]),n(0,r=Math.min(r,l.length-1))},c,()=>{p(Ce,l=[...l.slice(0,r-1),l[r],l[r-1],...l.slice(r+1)]),n(0,r--,r)},()=>{p(Ce,l=[...l.slice(0,r),l[r+1],l[r],...l.slice(r+2)]),n(0,r++,r)},e=>`hsl(${90+20*e},35%,50%)`,function(t){B(e,t)},function(e,t){e[t]=T(this),Ce.set(l)},e=>c(e)]}class vn extends ye{constructor(e){super(),we(this,e,hn,gn,r,{selectedPosition:0})}}let bn=0;const wn=e=>({}),yn=e=>({id:e[2]});function xn(e){let t,n,l,s,o,r;const a=e[4].default,c=u(a,e,e[3],yn);return{c(){t=k("div"),n=k("label"),l=_(e[0]),s=z(),o=k("span"),c&&c.c(),R(n,"for",e[2]),R(n,"class","field__label embossed svelte-1crmhcr"),R(o,"class","field__controls inset svelte-1crmhcr"),R(t,"class","field outset svelte-1crmhcr"),R(t,"title",e[1])},m(e,a){w(e,t,a),b(t,n),b(n,l),b(t,s),b(t,o),c&&c.m(o,null),r=!0},p(e,[n]){(!r||1&n)&&S(l,e[0]),c&&c.p&&8&n&&f(c,a,e,e[3],n,wn,yn),(!r||2&n)&&R(t,"title",e[1])},i(e){r||(ie(c,e),r=!0)},o(e){ue(c,e),r=!1},d(e){e&&y(t),c&&c.d(e)}}}function kn(e,t,n){let{label:l=""}=t,{hint:s=null}=t,o="elm-"+bn++,{$$slots:r={},$$scope:a}=t;return e.$$set=e=>{"label"in e&&n(0,l=e.label),"hint"in e&&n(1,s=e.hint),"$$scope"in e&&n(3,a=e.$$scope)},[l,s,o,a,r]}class _n extends ye{constructor(e){super(),we(this,e,kn,xn,r,{label:0,hint:1})}}function zn(e){let t,n,l,s;return{c(){t=k("input"),R(t,"id",n=e[3]),R(t,"spellcheck","false"),R(t,"type","text"),R(t,"class","input")},m(n,o){w(n,t,o),C(t,e[0]),l||(s=P(t,"input",e[2]),l=!0)},p(e,l){8&l&&n!==(n=e[3])&&R(t,"id",n),1&l&&t.value!==e[0]&&C(t,e[0])},d(e){e&&y(t),l=!1,s()}}}function En(e){let t,n;return t=new _n({props:{label:e[1],$$slots:{default:[zn,({id:e})=>({3:e}),({id:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},p(e,[n]){const l={};2&n&&(l.label=e[1]),25&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Pn(e,t,n){let{label:l=""}=t,{value:s=""}=t;return e.$$set=e=>{"label"in e&&n(1,l=e.label),"value"in e&&n(0,s=e.value)},[s,l,function(){s=this.value,n(0,s)}]}class Rn extends ye{constructor(e){super(),we(this,e,Pn,En,r,{label:1,value:0})}}function Sn(e){let t,n,l,r;return{c(){t=k("input"),R(t,"id",n=e[18]),M(t,"width",e[5]+4+"ch"),R(t,"class","input"),R(t,"type","number"),R(t,"step",e[1]),R(t,"min",e[3]),R(t,"max",e[4]),t.value=e[0]},m(n,s){w(n,t,s),e[14](t),l||(r=[P(t,"focus",(function(){o(e[7]=e[0])&&(e[7]=e[0]).apply(this,arguments)})),P(t,"keydown",e[11]),P(t,"change",e[9]),P(t,"input",e[10]),P(t,"input",e[12]),P(t,"change",e[13])],l=!0)},p(l,s){e=l,262144&s&&n!==(n=e[18])&&R(t,"id",n),32&s&&M(t,"width",e[5]+4+"ch"),2&s&&R(t,"step",e[1]),8&s&&R(t,"min",e[3]),16&s&&R(t,"max",e[4]),1&s&&(t.value=e[0])},d(n){n&&y(t),e[14](null),l=!1,s(r)}}}function Cn(e){let t,n;return t=new _n({props:{label:e[2],hint:e[6],$$slots:{default:[Sn,({id:e})=>({18:e}),({id:e})=>e?262144:0]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},p(e,[n]){const l={};4&n&&(l.label=e[2]),64&n&&(l.hint=e[6]),786875&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Mn(e,t,n){let{label:l=""}=t,{value:s=0}=t,{min:o=0}=t,{max:r=1}=t,{step:a=1}=t,{size:c=1}=t,{hint:i=""}=t;const u=a,$=10*a;let f,p=s;const d=e=>!isNaN(e)&&e>=o&&e<=r;return e.$$set=e=>{"label"in e&&n(2,l=e.label),"value"in e&&n(0,s=e.value),"min"in e&&n(3,o=e.min),"max"in e&&n(4,r=e.max),"step"in e&&n(1,a=e.step),"size"in e&&n(5,c=e.size),"hint"in e&&n(6,i=e.hint)},[s,a,l,o,r,c,i,p,f,()=>{n(8,f.value=n(0,s=p),f)},e=>{const t=parseFloat(f.value);0===t&&f.value.length>1||!d(t)?e.stopImmediatePropagation():n(7,p=n(0,s=t))},e=>{e.shiftKey?n(1,a=$):n(1,a=u)},function(t){B(e,t)},function(t){B(e,t)},function(e){H[e?"unshift":"push"](()=>{f=e,n(8,f)})}]}class An extends ye{constructor(e){super(),we(this,e,Mn,Cn,r,{label:2,value:0,min:3,max:4,step:1,size:5,hint:6})}}function Tn(t){let n,l;return{c(){n=k("div"),l=k("canvas"),R(l,"class","inset svelte-r6l6gk"),R(n,"class","svelte-r6l6gk")},m(e,s){w(e,n,s),b(n,l),t[2](l)},p:e,i:e,o:e,d(e){e&&y(n),t[2](null)}}}function Dn(e,t,n){let l,s,o,r=!1,{data:a}=t;const c=new ResizeObserver(e=>{for(const t of e){const{width:e,height:n}=t.contentRect;s=e,o=n,r||(r=!0,i(),setTimeout(()=>{i(),r=!1},500))}}),i=()=>{if(!l)return;const e=l.getContext("2d");n(0,l.height=o,l),n(0,l.width=s,l),e.strokeStyle="#0004",e.beginPath(),e.moveTo(0,o/2-.5),e.lineTo(s,o/2-.5),e.stroke(),e.closePath(),e.strokeStyle="#062",e.beginPath();for(let t=0;t<s;t+=2){const n=t*(a.length/s)|0,l=(.5+a[n])*o|0;0===t?e.moveTo(0,l):e.lineTo(t-.5,l)}e.stroke(),e.closePath()};var u;return u=()=>{c.observe(l.parentElement)},X().$$.on_mount.push(u),function(e){X().$$.on_destroy.push(e)}(()=>{c.unobserve(l.parentElement)}),e.$$set=e=>{"data"in e&&n(1,a=e.data)},e.$$.update=()=>{2&e.$$.dirty&&a&&i()},[l,a,function(e){H[e?"unshift":"push"](()=>{l=e,n(0,l)})}]}class Nn extends ye{constructor(e){super(),we(this,e,Dn,Tn,r,{data:1})}}function jn(e){const t=e-1;return t*t*t+1}function On(e,{delay:n=0,duration:l=400,easing:s=t}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:l,easing:s,css:e=>"opacity: "+e*o}}function qn(e,{delay:t=0,duration:n=400,easing:l=jn,x:s=0,y:o=0,opacity:r=0}){const a=getComputedStyle(e),c=+a.opacity,i="none"===a.transform?"":a.transform,u=c*(1-r);return{delay:t,duration:n,easing:l,css:(e,t)=>`\n\t\t\ttransform: ${i} translate(${(1-e)*s}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-u*t}`}}const Fn=e=>({}),Ln=e=>({});function In(e){let t,n,l,s,o,r,a,c,i,$,p,d,m,g;const h=e[3].default,v=u(h,e,e[2],null);p=new Vt({props:{label:"Close"}}),p.$on("click",e[4]);const x=e[3].controls,E=u(x,e,e[2],Ln);return{c(){t=k("div"),l=z(),s=k("div"),o=k("div"),r=_(e[1]),a=z(),c=k("div"),v&&v.c(),i=z(),$=k("div"),ge(p.$$.fragment),d=z(),E&&E.c(),R(t,"class","overlay svelte-okkyng"),R(o,"class","modal__header outset embossed svelte-okkyng"),R(c,"class","modal__body outset svelte-okkyng"),R($,"class","modal__footer outset svelte-okkyng"),R(s,"class","modal svelte-okkyng")},m(e,n){w(e,t,n),w(e,l,n),w(e,s,n),b(s,o),b(o,r),b(s,a),b(s,c),v&&v.m(c,null),b(s,i),b(s,$),he(p,$,null),b($,d),E&&E.m($,null),g=!0},p(e,t){(!g||2&t)&&S(r,e[1]),v&&v.p&&4&t&&f(v,h,e,e[2],t,null,null),E&&E.p&&4&t&&f(E,x,e,e[2],t,Fn,Ln)},i(e){g||(Y(()=>{n||(n=fe(t,On,{duration:150},!0)),n.run(1)}),ie(v,e),ie(p.$$.fragment,e),ie(E,e),Y(()=>{m||(m=fe(s,qn,{duration:150,y:10},!0)),m.run(1)}),g=!0)},o(e){n||(n=fe(t,On,{duration:150},!1)),n.run(0),ue(v,e),ue(p.$$.fragment,e),ue(E,e),m||(m=fe(s,qn,{duration:150,y:10},!1)),m.run(0),g=!1},d(e){e&&y(t),e&&n&&n.end(),e&&y(l),e&&y(s),v&&v.d(e),ve(p),E&&E.d(e),e&&m&&m.end()}}}function Xn(e){let t,n,l=e[0]&&In(e);return{c(){l&&l.c(),t=E()},m(e,s){l&&l.m(e,s),w(e,t,s),n=!0},p(e,[n]){e[0]?l?(l.p(e,n),1&n&&ie(l,1)):(l=In(e),l.c(),ie(l,1),l.m(t.parentNode,t)):l&&(ae(),ue(l,1,1,()=>{l=null}),ce())},i(e){n||(ie(l),n=!0)},o(e){ue(l),n=!1},d(e){l&&l.d(e),e&&y(t)}}}function Un(e,t,n){let{open:l=!1}=t,{title:s=""}=t,{$$slots:o={},$$scope:r}=t;return e.$$set=e=>{"open"in e&&n(0,l=e.open),"title"in e&&n(1,s=e.title),"$$scope"in e&&n(2,r=e.$$scope)},[l,s,r,o,()=>n(0,l=!1)]}class Bn extends ye{constructor(e){super(),we(this,e,Un,Xn,r,{open:0,title:1})}}var Gn=Object.freeze({__proto__:null,hihat:[2,0,4e3,,,.03,2,1.25,,,,,.02,6.8,-.3,,.5],claps:[1,0,655,,,.11,2,1.65,,,,,,3.8,-.1,.1],bassDrum:[1,0,84,,,.1,,.7,,,,.5,,6.7,1,.05],bassDrum2:[3,0,43,0,,.25,,,,,,,,2],snare:[1,0,655,0,,.09,3,1.65,,,,,.02,3.8,-.1,,.2],snare2:[1,0,219,,,,,1.1,,-.1,-50,-.05,-.01,1],hihatOpen:[.8,0,2100,,,.2,3,3,,,-400,,,2],shaker:[.3,0,900,.02,,.07,4,0,,,,,,4]});var Hn=Object.freeze({__proto__:null,korgBass:[.7,0,22,,.07,.07,2,0,,,.5,.01],korgFilter:[,0,245,0,0,.48,2,,0,0,0,,,,0,.02,.01],piano:[.5,0,196,,.08,.5,3],ringPiano:[.75,0,196,0,.08,.18,3],polySynth:[,0,25,.002,.02,.08,3,,,,,,,,,.1,.01],synthBrass:[.9,0,143,,,.35,3,,,,,,,,,],hallBrass:[,0,232,.01,.09,.15,2,,,,,,154.87,,,,.26],digDug:[,0,23,,,.2,3,5,,,0]});var Jn=Object.freeze({__proto__:null,flute:[,0,740,0,,.15,2,.2,-.1,-.15,9,.02,,.1,.12,0,.06]});function Kn(e,t,n){const l=e.slice();return l[11]=t[n],l}function Vn(e,t,n){const l=e.slice();return l[2]=t[n],l}function Zn(t){let n,l,s,o=t[2].label+"";return{c(){n=k("option"),l=_(o),n.__value=s=t[2],n.value=n.__value},m(e,t){w(e,n,t),b(n,l)},p:e,d(e){e&&y(n)}}}function Yn(e,t){let n,l,s,o=t[11].name+"";return{key:e,first:null,c(){n=k("option"),l=_(o),n.__value=s=t[11],n.value=n.__value,this.first=n},m(e,t){w(e,n,t),b(n,l)},p(e,t){4&t&&o!==(o=e[11].name+"")&&S(l,o),12&t&&s!==(s=e[11])&&(n.__value=s,n.value=n.__value)},d(e){e&&y(n)}}}function Wn(e){let t,n,l;return n=new Vt({props:{label:"Select",disabled:!e[1]}}),n.$on("click",e[5]),{c(){t=k("span"),ge(n.$$.fragment),R(t,"slot","controls")},m(e,s){w(e,t,s),he(n,t,null),l=!0},p(e,t){const l={};2&t&&(l.disabled=!e[1]),n.$set(l)},i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){e&&y(t),ve(n)}}}function Qn(t){let n,l,o,r,a,c,i,u,$,f=[],p=new Map,d=t[3],m=[];for(let e=0;e<d.length;e+=1)m[e]=Zn(Vn(t,d,e));let g=t[2].instruments;const h=e=>e[11];for(let e=0;e<g.length;e+=1){let n=Kn(t,g,e),l=h(n);p.set(l,f[e]=Yn(l,n))}return{c(){n=k("div"),l=k("div"),o=k("select");for(let e=0;e<m.length;e+=1)m[e].c();r=z(),a=k("div"),c=k("select");for(let e=0;e<f.length;e+=1)f[e].c();i=z(),R(o,"class","select svelte-cogz3"),R(o,"size","2"),void 0===t[2]&&Y(()=>t[6].call(o)),R(l,"class","inset"),R(c,"class","select svelte-cogz3"),R(c,"size","2"),void 0===t[1]&&Y(()=>t[7].call(c)),R(a,"class","inset"),R(n,"class","splitView svelte-cogz3")},m(e,s){w(e,n,s),b(n,l),b(l,o);for(let e=0;e<m.length;e+=1)m[e].m(o,null);A(o,t[2]),b(n,r),b(n,a),b(a,c);for(let e=0;e<f.length;e+=1)f[e].m(c,null);A(c,t[1]),w(e,i,s),u||($=[P(o,"change",t[6]),P(c,"change",t[7]),P(c,"change",t[4])],u=!0)},p(e,t){if(8&t){let n;for(d=e[3],n=0;n<d.length;n+=1){const l=Vn(e,d,n);m[n]?m[n].p(l,t):(m[n]=Zn(l),m[n].c(),m[n].m(o,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=d.length}if(12&t&&A(o,e[2]),4&t){const n=e[2].instruments;f=function(e,t,n,l,s,o,r,a,c,i,u,$){let f=e.length,p=o.length,d=f;const m={};for(;d--;)m[e[d].key]=d;const g=[],h=new Map,v=new Map;for(d=p;d--;){const e=$(s,o,d),a=n(e);let c=r.get(a);c?l&&c.p(e,t):(c=i(a,e),c.c()),h.set(a,g[d]=c),a in m&&v.set(a,Math.abs(d-m[a]))}const b=new Set,w=new Set;function y(e){ie(e,1),e.m(a,u),r.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],l=t.key,s=n.key;t===n?(u=t.first,f--,p--):h.has(s)?!r.has(l)||b.has(l)?y(t):w.has(s)?f--:v.get(l)>v.get(s)?(w.add(l),y(t)):(b.add(s),f--):(c(n,r),f--)}for(;f--;){const t=e[f];h.has(t.key)||c(t,r)}for(;p;)y(g[p-1]);return g}(f,t,h,1,e,n,p,c,de,Yn,null,Kn)}6&t&&A(c,e[1])},i:e,o:e,d(e){e&&y(n),x(m,e);for(let e=0;e<f.length;e+=1)f[e].d();e&&y(i),u=!1,s($)}}}function el(e){let t,n,l;function s(t){e[8].call(null,t)}let o={title:"Select an instrument",$$slots:{default:[Qn],controls:[Wn]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.open=e[0]),t=new Bn({props:o}),H.push(()=>me(t,"open",s)),{c(){ge(t.$$.fragment)},m(e,n){he(t,e,n),l=!0},p(e,[l]){const s={};65542&l&&(s.$$scope={dirty:l,ctx:e}),!n&&1&l&&(n=!0,s.open=e[0],W(()=>n=!1)),t.$set(s)},i(e){l||(ie(t.$$.fragment,e),l=!0)},o(e){ue(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function tl(e,t,n){let{open:l=!1}=t;const s=U(),o=e=>e.substr(0,1).toUpperCase()+e.substr(1).replace(/[A-Z0-9]/g," $&"),r=Object.entries({percussion:Gn,keyboards:Hn,wind:Jn}).map(([e,t])=>({label:o(e),instruments:Object.entries(t).map(([e,t])=>({name:o(e),params:t}))}));let a=r[0],c=null;return e.$$set=e=>{"open"in e&&n(0,l=e.open)},e.$$.update=()=>{1&e.$$.dirty&&l&&n(1,c=null)},[l,c,a,r,()=>{c&&(async e=>{await Mt();const t=zzfxP([...zzfxG(...e)]);t.onended=At})(c.params)},()=>{s("select",c),n(0,l=!1),n(1,c=null)},function(){a=T(this),n(2,a),n(3,r)},function(){c=T(this),n(1,c),n(0,l),n(2,a)},function(e){l=e,n(0,l)}]}class nl extends ye{constructor(e){super(),we(this,e,tl,el,r,{open:0})}}function ll(e,t,n){const l=e.slice();return l[44]=t[n],l}function sl(e,t,n){const l=e.slice();return l[7]=t[n],l[48]=n,l}function ol(e){let t,n,l,s,o,r,a,c;return t=new Vt({props:{label:"Add"}}),t.$on("click",e[13]),l=new Vt({props:{label:"Delete",disabled:e[6].length}}),l.$on("click",e[14]),o=new Vt({props:{label:"Copy"}}),o.$on("click",e[17]),a=new Vt({props:{label:"Paste",disabled:!e[1]}}),a.$on("click",e[18]),{c(){ge(t.$$.fragment),n=z(),ge(l.$$.fragment),s=z(),ge(o.$$.fragment),r=z(),ge(a.$$.fragment)},m(e,i){he(t,e,i),w(e,n,i),he(l,e,i),w(e,s,i),he(o,e,i),w(e,r,i),he(a,e,i),c=!0},p(e,t){const n={};64&t[0]&&(n.disabled=e[6].length),l.$set(n);const s={};2&t[0]&&(s.disabled=!e[1]),a.$set(s)},i(e){c||(ie(t.$$.fragment,e),ie(l.$$.fragment,e),ie(o.$$.fragment,e),ie(a.$$.fragment,e),c=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),ue(o.$$.fragment,e),ue(a.$$.fragment,e),c=!1},d(e){ve(t,e),e&&y(n),ve(l,e),e&&y(s),ve(o,e),e&&y(r),ve(a,e)}}}function rl(e){let t,n;return t=new Ht({props:{label:"Instruments",$$slots:{default:[ol]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},p(e,n){const l={};66&n[0]|262144&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function al(e){let t,n,l;return n=new Wt({props:{$$slots:{default:[rl]},$$scope:{ctx:e}}}),{c(){t=k("div"),ge(n.$$.fragment),R(t,"slot","head")},m(e,s){w(e,t,s),he(n,t,null),l=!0},p(e,t){const l={};66&t[0]|262144&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){e&&y(t),ve(n)}}}function cl(e){let t,n,l,s,o,r=e[7]+"";return{c(){t=k("option"),n=_(e[48]),l=_(": "),s=_(r),t.__value=o=e[48],t.value=t.__value},m(e,o){w(e,t,o),b(t,n),b(t,l),b(t,s)},p(e,t){16&t[0]&&r!==(r=e[7]+"")&&S(s,r)},d(e){e&&y(t)}}}function il(t){let n,l,s,o,r=t[4],a=[];for(let e=0;e<r.length;e+=1)a[e]=cl(sl(t,r,e));return{c(){n=z(),l=k("select");for(let e=0;e<a.length;e+=1)a[e].c();R(l,"class","select"),R(l,"size","2"),void 0===t[0]&&Y(()=>t[19].call(l))},m(e,r){w(e,n,r),w(e,l,r);for(let e=0;e<a.length;e+=1)a[e].m(l,null);A(l,t[0]),s||(o=P(l,"change",t[19]),s=!0)},p(e,t){if(16&t[0]){let n;for(r=e[4],n=0;n<r.length;n+=1){const s=sl(e,r,n);a[n]?a[n].p(s,t):(a[n]=cl(s),a[n].c(),a[n].m(l,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}1&t[0]&&A(l,e[0])},i:e,o:e,d(e){e&&y(n),e&&y(l),x(a,e),s=!1,o()}}}function ul(t){let n,l;return n=new Vt({props:{label:"Play Instrument"}}),n.$on("click",t[9]),{c(){ge(n.$$.fragment)},m(e,t){he(n,e,t),l=!0},p:e,i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){ve(n,e)}}}function $l(t){let n,l,s,o,r,a;return n=new Vt({props:{label:"Import"}}),n.$on("click",t[11]),s=new Vt({props:{label:"Export"}}),s.$on("click",t[12]),r=new Vt({props:{label:"Library"}}),r.$on("click",t[15]),{c(){ge(n.$$.fragment),l=z(),ge(s.$$.fragment),o=z(),ge(r.$$.fragment)},m(e,t){he(n,e,t),w(e,l,t),he(s,e,t),w(e,o,t),he(r,e,t),a=!0},p:e,i(e){a||(ie(n.$$.fragment,e),ie(s.$$.fragment,e),ie(r.$$.fragment,e),a=!0)},o(e){ue(n.$$.fragment,e),ue(s.$$.fragment,e),ue(r.$$.fragment,e),a=!1},d(e){ve(n,e),e&&y(l),ve(s,e),e&&y(o),ve(r,e)}}}function fl(e){let t,n,l=(e[6].length?e[6]:"Unused")+"";return{c(){t=k("span"),n=_(l),R(t,"class","usage input svelte-7qfu5x")},m(e,l){w(e,t,l),b(t,n)},p(e,t){64&t[0]&&l!==(l=(e[6].length?e[6]:"Unused")+"")&&S(n,l)},d(e){e&&y(t)}}}function pl(e){let t,n,l,s,o,r,a,c,i,u,$,f,p,d;function m(t){e[20].call(null,t)}let g={min:0,max:e[3].length-1,label:"#"};function h(t){e[21].call(null,t)}void 0!==e[0]&&(g.value=e[0]),t=new An({props:g}),H.push(()=>me(t,"value",m));let v={label:"Name"};return void 0!==e[4][e[0]]&&(v.value=e[4][e[0]]),s=new Rn({props:v}),H.push(()=>me(s,"value",h)),a=new Ht({props:{label:"Playback",$$slots:{default:[ul]},$$scope:{ctx:e}}}),i=new Ht({props:{label:"Parameters",$$slots:{default:[$l]},$$scope:{ctx:e}}}),$=new Ht({props:{label:"Pattern Usage",$$slots:{default:[fl]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),l=z(),ge(s.$$.fragment),r=z(),ge(a.$$.fragment),c=z(),ge(i.$$.fragment),u=z(),ge($.$$.fragment),f=z(),p=k("div"),R(p,"class","outset")},m(e,n){he(t,e,n),w(e,l,n),he(s,e,n),w(e,r,n),he(a,e,n),w(e,c,n),he(i,e,n),w(e,u,n),he($,e,n),w(e,f,n),w(e,p,n),d=!0},p(e,l){const r={};8&l[0]&&(r.max=e[3].length-1),!n&&1&l[0]&&(n=!0,r.value=e[0],W(()=>n=!1)),t.$set(r);const c={};!o&&17&l[0]&&(o=!0,c.value=e[4][e[0]],W(()=>o=!1)),s.$set(c);const u={};262144&l[1]&&(u.$$scope={dirty:l,ctx:e}),a.$set(u);const f={};262144&l[1]&&(f.$$scope={dirty:l,ctx:e}),i.$set(f);const p={};64&l[0]|262144&l[1]&&(p.$$scope={dirty:l,ctx:e}),$.$set(p)},i(e){d||(ie(t.$$.fragment,e),ie(s.$$.fragment,e),ie(a.$$.fragment,e),ie(i.$$.fragment,e),ie($.$$.fragment,e),d=!0)},o(e){ue(t.$$.fragment,e),ue(s.$$.fragment,e),ue(a.$$.fragment,e),ue(i.$$.fragment,e),ue($.$$.fragment,e),d=!1},d(e){ve(t,e),e&&y(l),ve(s,e),e&&y(r),ve(a,e),e&&y(c),ve(i,e),e&&y(u),ve($,e),e&&y(f),e&&y(p)}}}function dl(e){let t,n,l;return n=new Wt({props:{$$slots:{default:[pl]},$$scope:{ctx:e}}}),{c(){t=k("div"),ge(n.$$.fragment),R(t,"slot","head")},m(e,s){w(e,t,s),he(n,t,null),l=!0},p(e,t){const l={};89&t[0]|262144&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){e&&y(t),ve(n)}}}function ml(t){let n,l,s,o=t[44].label+"";return{c(){n=k("option"),l=_(o),n.__value=s=t[44].id,n.value=n.__value},m(e,t){w(e,n,t),b(n,l)},p:e,d(e){e&&y(n)}}}function gl(e){let t,n,l,s=e[8],o=[];for(let t=0;t<s.length;t+=1)o[t]=ml(ll(e,s,t));return{c(){t=k("select");for(let e=0;e<o.length;e+=1)o[e].c();R(t,"class","select"),void 0===e[7][6]&&Y(()=>e[24].call(t))},m(s,r){w(s,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);A(t,e[7][6]),n||(l=P(t,"change",e[24]),n=!0)},p(e,n){if(256&n[0]){let l;for(s=e[8],l=0;l<s.length;l+=1){const r=ll(e,s,l);o[l]?o[l].p(r,n):(o[l]=ml(r),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}384&n[0]&&A(t,e[7][6])},d(e){e&&y(t),x(o,e),n=!1,l()}}}function hl(e){let t,n,l,s,o,r,a,c,i,u,$,f,p,d,m,g,h,v,x,_,E,P,S,C,M,A,T,D,N,j,O,q,F,L,I,X,U,B,G,J,K,V,Z,Y,Q,ee,te,ne,le,se,oe,re,ae,ce,$e,fe,pe,de,be,we,ye,xe,ke,_e,ze,Ee;function Pe(t){e[22].call(null,t)}let Re={size:4,label:"Volume",hint:"Volume scale (percent)",min:"0",max:"1000000000",step:"0.1"};function Se(t){e[23].call(null,t)}void 0!==e[7][0]&&(Re.value=e[7][0]),s=new An({props:Re}),H.push(()=>me(s,"value",Pe)),s.$on("input",e[10]);let Ce={size:4,label:"Frequency",hint:"Frequency of sound (Hz)",min:"-1000000000",max:"1000000000",step:"1"};function Me(t){e[25].call(null,t)}void 0!==e[7][2]&&(Ce.value=e[7][2]),a=new An({props:Ce}),H.push(()=>me(a,"value",Se)),a.$on("input",e[10]),u=new _n({props:{label:"Shape",$$slots:{default:[gl]},$$scope:{ctx:e}}});let Ae={size:4,label:"Attack",hint:"Attack time, how fast sound starts (seconds)",min:"0",max:"3",step:"0.01"};function Te(t){e[26].call(null,t)}void 0!==e[7][3]&&(Ae.value=e[7][3]),f=new An({props:Ae}),H.push(()=>me(f,"value",Me)),f.$on("input",e[10]);let De={size:4,label:"Sustain",hint:"Sustain time, how long sound holds (seconds)",min:"0",max:"3",step:"0.01"};function Ne(t){e[27].call(null,t)}void 0!==e[7][4]&&(De.value=e[7][4]),m=new An({props:De}),H.push(()=>me(m,"value",Te)),m.$on("input",e[10]);let je={size:4,label:"Release",hint:"Release time, how fast sound fades out (seconds)",min:"0",max:"3",step:"0.01"};function Oe(t){e[28].call(null,t)}void 0!==e[7][5]&&(je.value=e[7][5]),v=new An({props:je}),H.push(()=>me(v,"value",Ne)),v.$on("input",e[10]);let qe={size:4,label:"Shape Curve",hint:"Squarenes of wave (0=square, 1=normal, 2=pointy)",min:"0",max:"1000000000",step:"0.1"};function Fe(t){e[29].call(null,t)}void 0!==e[7][7]&&(qe.value=e[7][7]),E=new An({props:qe}),H.push(()=>me(E,"value",Oe)),E.$on("input",e[10]);let Le={size:4,label:"Slide",hint:"How much to slide frequency (kHz/s)",min:"-1000000000",max:"1000000000",step:"0.1"};function Ie(t){e[30].call(null,t)}void 0!==e[7][8]&&(Le.value=e[7][8]),C=new An({props:Le}),H.push(()=>me(C,"value",Fe)),C.$on("input",e[10]);let Xe={size:4,label:"Delta Slide",hint:"How much to change slide (kHz/s/s)",min:"-1000000000",max:"1000000000",step:"0.1"};function Ue(t){e[31].call(null,t)}void 0!==e[7][9]&&(Xe.value=e[7][9]),T=new An({props:Xe}),H.push(()=>me(T,"value",Ie)),T.$on("input",e[10]);let Be={size:4,label:"Pitch Jump",hint:"Frequency of pitch jump (Hz)",min:"-1000000000",max:"1000000000",step:"10"};function Ge(t){e[32].call(null,t)}void 0!==e[7][10]&&(Be.value=e[7][10]),j=new An({props:Be}),H.push(()=>me(j,"value",Ue)),j.$on("input",e[10]);let He={size:4,label:"Pitch Jump Time",hint:"Time of pitch jump (seconds)",min:"-1000000000",max:"1000000000",step:"0.01"};function Je(t){e[33].call(null,t)}void 0!==e[7][11]&&(He.value=e[7][11]),F=new An({props:He}),H.push(()=>me(F,"value",Ge)),F.$on("input",e[10]);let Ke={size:4,label:"Repeat Time",hint:"Resets some parameters periodically (seconds)",min:"-1000000000",max:"1000000000",step:"0.01"};function Ve(t){e[34].call(null,t)}void 0!==e[7][12]&&(Ke.value=e[7][12]),X=new An({props:Ke}),H.push(()=>me(X,"value",Je)),X.$on("input",e[10]);let Ze={size:4,label:"Noise",hint:"How much random noise to add (percent)",min:"-1000000000",max:"1000000000",step:"0.1"};function Ye(t){e[35].call(null,t)}void 0!==e[7][13]&&(Ze.value=e[7][13]),G=new An({props:Ze}),H.push(()=>me(G,"value",Ve)),G.$on("input",e[10]);let We={size:4,label:"Modulation",hint:"Frequency of modulation wave, negative flips phase (Hz)",min:"-1000000000",max:"1000000000",step:"0.1"};function Qe(t){e[36].call(null,t)}void 0!==e[7][14]&&(We.value=e[7][14]),V=new An({props:We}),H.push(()=>me(V,"value",Ye)),V.$on("input",e[10]);let et={size:4,label:"Bit Crush",hint:"Resamples at a lower frequency in (samples*100)",min:"-1000000000",max:"1000000000",step:"0.1"};function tt(t){e[37].call(null,t)}void 0!==e[7][15]&&(et.value=e[7][15]),Q=new An({props:et}),H.push(()=>me(Q,"value",Qe)),Q.$on("input",e[10]);let nt={size:4,label:"Delay",hint:"Overlap with itself for reverb and flanger effects (seconds)",min:"0",max:"1000000000",step:"0.01"};function lt(t){e[38].call(null,t)}void 0!==e[7][16]&&(nt.value=e[7][16]),ne=new An({props:nt}),H.push(()=>me(ne,"value",tt)),ne.$on("input",e[10]);let st={size:4,label:"Sustain Volume",hint:"Volume level for sustain (percent)",min:"0",max:"1000000000",step:"0.01"};function ot(t){e[39].call(null,t)}void 0!==e[7][17]&&(st.value=e[7][17]),oe=new An({props:st}),H.push(()=>me(oe,"value",lt)),oe.$on("input",e[10]);let rt={size:4,label:"Decay",hint:"Decay time, how long to reach sustain after attack",min:"0",max:"1",step:"0.01"};function at(t){e[40].call(null,t)}void 0!==e[7][18]&&(rt.value=e[7][18]),ce=new An({props:rt}),H.push(()=>me(ce,"value",ot)),ce.$on("input",e[10]);let ct={size:4,label:"Tremolo",hint:"Trembling effect, rate controlled by repeat time (precent)",min:"0",max:"1",step:"0.01"};return void 0!==e[7][19]&&(ct.value=e[7][19]),pe=new An({props:ct}),H.push(()=>me(pe,"value",at)),pe.$on("input",e[10]),ze=new Nn({props:{data:e[5]}}),{c(){t=z(),n=k("div"),l=k("div"),ge(s.$$.fragment),r=z(),ge(a.$$.fragment),i=z(),ge(u.$$.fragment),$=z(),ge(f.$$.fragment),d=z(),ge(m.$$.fragment),h=z(),ge(v.$$.fragment),_=z(),ge(E.$$.fragment),S=z(),ge(C.$$.fragment),A=z(),ge(T.$$.fragment),N=z(),ge(j.$$.fragment),q=z(),ge(F.$$.fragment),I=z(),ge(X.$$.fragment),B=z(),ge(G.$$.fragment),K=z(),ge(V.$$.fragment),Y=z(),ge(Q.$$.fragment),te=z(),ge(ne.$$.fragment),se=z(),ge(oe.$$.fragment),ae=z(),ge(ce.$$.fragment),fe=z(),ge(pe.$$.fragment),be=z(),we=k("div"),ye=z(),xe=k("div"),ke=z(),_e=k("div"),ge(ze.$$.fragment),R(we,"class","outset"),R(xe,"class","outset"),R(l,"class","instrument__params svelte-7qfu5x"),R(_e,"class","instrument__preview outset svelte-7qfu5x"),R(n,"class","instrument svelte-7qfu5x")},m(e,o){w(e,t,o),w(e,n,o),b(n,l),he(s,l,null),b(l,r),he(a,l,null),b(l,i),he(u,l,null),b(l,$),he(f,l,null),b(l,d),he(m,l,null),b(l,h),he(v,l,null),b(l,_),he(E,l,null),b(l,S),he(C,l,null),b(l,A),he(T,l,null),b(l,N),he(j,l,null),b(l,q),he(F,l,null),b(l,I),he(X,l,null),b(l,B),he(G,l,null),b(l,K),he(V,l,null),b(l,Y),he(Q,l,null),b(l,te),he(ne,l,null),b(l,se),he(oe,l,null),b(l,ae),he(ce,l,null),b(l,fe),he(pe,l,null),b(l,be),b(l,we),b(l,ye),b(l,xe),b(n,ke),b(n,_e),he(ze,_e,null),Ee=!0},p(e,t){const n={};!o&&128&t[0]&&(o=!0,n.value=e[7][0],W(()=>o=!1)),s.$set(n);const l={};!c&&128&t[0]&&(c=!0,l.value=e[7][2],W(()=>c=!1)),a.$set(l);const r={};128&t[0]|262144&t[1]&&(r.$$scope={dirty:t,ctx:e}),u.$set(r);const i={};!p&&128&t[0]&&(p=!0,i.value=e[7][3],W(()=>p=!1)),f.$set(i);const $={};!g&&128&t[0]&&(g=!0,$.value=e[7][4],W(()=>g=!1)),m.$set($);const d={};!x&&128&t[0]&&(x=!0,d.value=e[7][5],W(()=>x=!1)),v.$set(d);const h={};!P&&128&t[0]&&(P=!0,h.value=e[7][7],W(()=>P=!1)),E.$set(h);const b={};!M&&128&t[0]&&(M=!0,b.value=e[7][8],W(()=>M=!1)),C.$set(b);const w={};!D&&128&t[0]&&(D=!0,w.value=e[7][9],W(()=>D=!1)),T.$set(w);const y={};!O&&128&t[0]&&(O=!0,y.value=e[7][10],W(()=>O=!1)),j.$set(y);const k={};!L&&128&t[0]&&(L=!0,k.value=e[7][11],W(()=>L=!1)),F.$set(k);const _={};!U&&128&t[0]&&(U=!0,_.value=e[7][12],W(()=>U=!1)),X.$set(_);const z={};!J&&128&t[0]&&(J=!0,z.value=e[7][13],W(()=>J=!1)),G.$set(z);const R={};!Z&&128&t[0]&&(Z=!0,R.value=e[7][14],W(()=>Z=!1)),V.$set(R);const S={};!ee&&128&t[0]&&(ee=!0,S.value=e[7][15],W(()=>ee=!1)),Q.$set(S);const A={};!le&&128&t[0]&&(le=!0,A.value=e[7][16],W(()=>le=!1)),ne.$set(A);const N={};!re&&128&t[0]&&(re=!0,N.value=e[7][17],W(()=>re=!1)),oe.$set(N);const q={};!$e&&128&t[0]&&($e=!0,q.value=e[7][18],W(()=>$e=!1)),ce.$set(q);const I={};!de&&128&t[0]&&(de=!0,I.value=e[7][19],W(()=>de=!1)),pe.$set(I);const B={};32&t[0]&&(B.data=e[5]),ze.$set(B)},i(e){Ee||(ie(s.$$.fragment,e),ie(a.$$.fragment,e),ie(u.$$.fragment,e),ie(f.$$.fragment,e),ie(m.$$.fragment,e),ie(v.$$.fragment,e),ie(E.$$.fragment,e),ie(C.$$.fragment,e),ie(T.$$.fragment,e),ie(j.$$.fragment,e),ie(F.$$.fragment,e),ie(X.$$.fragment,e),ie(G.$$.fragment,e),ie(V.$$.fragment,e),ie(Q.$$.fragment,e),ie(ne.$$.fragment,e),ie(oe.$$.fragment,e),ie(ce.$$.fragment,e),ie(pe.$$.fragment,e),ie(ze.$$.fragment,e),Ee=!0)},o(e){ue(s.$$.fragment,e),ue(a.$$.fragment,e),ue(u.$$.fragment,e),ue(f.$$.fragment,e),ue(m.$$.fragment,e),ue(v.$$.fragment,e),ue(E.$$.fragment,e),ue(C.$$.fragment,e),ue(T.$$.fragment,e),ue(j.$$.fragment,e),ue(F.$$.fragment,e),ue(X.$$.fragment,e),ue(G.$$.fragment,e),ue(V.$$.fragment,e),ue(Q.$$.fragment,e),ue(ne.$$.fragment,e),ue(oe.$$.fragment,e),ue(ce.$$.fragment,e),ue(pe.$$.fragment,e),ue(ze.$$.fragment,e),Ee=!1},d(e){e&&y(t),e&&y(n),ve(s),ve(a),ve(u),ve(f),ve(m),ve(v),ve(E),ve(C),ve(T),ve(j),ve(F),ve(X),ve(G),ve(V),ve(Q),ve(ne),ve(oe),ve(ce),ve(pe),ve(ze)}}}function vl(e){let t,n,l,s,o,r,a,c;function i(t){e[41].call(null,t)}n=new ln({props:{$$slots:{default:[il],head:[al]},$$scope:{ctx:e}}}),s=new ln({props:{$$slots:{default:[hl],head:[dl]},$$scope:{ctx:e}}});let u={};return void 0!==e[2]&&(u.open=e[2]),r=new nl({props:u}),H.push(()=>me(r,"open",i)),r.$on("select",e[16]),{c(){t=k("div"),ge(n.$$.fragment),l=z(),ge(s.$$.fragment),o=z(),ge(r.$$.fragment),R(t,"class","splitView")},m(e,a){w(e,t,a),he(n,t,null),b(t,l),he(s,t,null),w(e,o,a),he(r,e,a),c=!0},p(e,t){const l={};83&t[0]|262144&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l);const o={};249&t[0]|262144&t[1]&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const c={};!a&&4&t[0]&&(a=!0,c.open=e[2],W(()=>a=!1)),r.$set(c)},i(e){c||(ie(n.$$.fragment,e),ie(s.$$.fragment,e),ie(r.$$.fragment,e),c=!0)},o(e){ue(n.$$.fragment,e),ue(s.$$.fragment,e),ue(r.$$.fragment,e),c=!1},d(e){e&&y(t),ve(n),ve(s),e&&y(o),ve(r,e)}}}function bl(e,t,n){let l,s,o;i(e,Ee,e=>n(3,l=e)),i(e,Pe,e=>n(4,s=e)),i(e,Re,e=>n(43,o=e));let{selected:r=0}=t;const a=[{id:0,label:"Sin"},{id:1,label:"Triangle"},{id:2,label:"Saw"},{id:3,label:"Tan"},{id:4,label:"Bit Noise"}];let c,u=!1;let $,f,d,m;return e.$$set=e=>{"selected"in e&&n(0,r=e.selected)},e.$$.update=()=>{9&e.$$.dirty[0]&&n(0,r=ot(r,0,l.length-1)),9&e.$$.dirty[0]&&n(7,$=l[r]),17&e.$$.dirty[0]&&(f=s[r]),128&e.$$.dirty[0]&&n(5,d=zzfxG(...$)),1&e.$$.dirty[0]|4096&e.$$.dirty[1]&&n(6,m=o.map((e,t)=>e.some(e=>e[0]===r)&&t).filter(e=>!1!==e))},[r,c,u,l,s,d,m,$,a,()=>{Ft(r,1)},()=>{Ft(r,1)},()=>{let e=prompt("Zzfx Code","zzfx(...[])");e&&(e=e.replace(/zzfx\(\.\.\.(\[[\w\W]*?\])\)/,"$1"),lt(r,(e=>et(JSON.parse(We(e))))(e)))},()=>{prompt("Zzfx Code",`zzfx(...${Ie($)})`)},()=>{nt([1,0]),n(0,r=l.length-1)},()=>{var e;m.length>0?alert(`This instrument is being used in patterns ${m}.`):(e=r,Ee.update(t=>(t.splice(e,1),t)),Pe.update(t=>(t.splice(e,1),t)),tt++,n(0,r=Math.min(r,l.length-1)))},()=>{n(2,u=!0)},e=>{lt(r,e.detail.params),p(Pe,s[r]=e.detail.name,s)},()=>{n(1,c=$.slice())},()=>{p(Ee,l[r]=c.slice(),l),Ee.set(l)},function(){r=T(this),n(0,r),n(3,l)},function(e){r=e,n(0,r),n(3,l)},function(e){s[r]=e,Pe.set(s)},function(e){$[0]=e,n(7,$),n(3,l),n(0,r)},function(e){$[2]=e,n(7,$),n(3,l),n(0,r)},function(){$[6]=T(this),n(7,$),n(3,l),n(0,r),n(8,a)},function(e){$[3]=e,n(7,$),n(3,l),n(0,r)},function(e){$[4]=e,n(7,$),n(3,l),n(0,r)},function(e){$[5]=e,n(7,$),n(3,l),n(0,r)},function(e){$[7]=e,n(7,$),n(3,l),n(0,r)},function(e){$[8]=e,n(7,$),n(3,l),n(0,r)},function(e){$[9]=e,n(7,$),n(3,l),n(0,r)},function(e){$[10]=e,n(7,$),n(3,l),n(0,r)},function(e){$[11]=e,n(7,$),n(3,l),n(0,r)},function(e){$[12]=e,n(7,$),n(3,l),n(0,r)},function(e){$[13]=e,n(7,$),n(3,l),n(0,r)},function(e){$[14]=e,n(7,$),n(3,l),n(0,r)},function(e){$[15]=e,n(7,$),n(3,l),n(0,r)},function(e){$[16]=e,n(7,$),n(3,l),n(0,r)},function(e){$[17]=e,n(7,$),n(3,l),n(0,r)},function(e){$[18]=e,n(7,$),n(3,l),n(0,r)},function(e){$[19]=e,n(7,$),n(3,l),n(0,r)},function(e){u=e,n(2,u)}]}class wl extends ye{constructor(e){super(),we(this,e,bl,vl,r,{selected:0},[-1,-1])}}function yl(t){let n,l,o;return{c(){n=k("input"),R(n,"type","range"),R(n,"id",t[1]),R(n,"step",t[2]),R(n,"min",t[3]),R(n,"max",t[4]),R(n,"list",t[5]),R(n,"class","svelte-18srj1d")},m(e,s){w(e,n,s),C(n,t[0]),l||(o=[P(n,"change",t[6]),P(n,"input",t[6])],l=!0)},p(e,[t]){2&t&&R(n,"id",e[1]),4&t&&R(n,"step",e[2]),8&t&&R(n,"min",e[3]),16&t&&R(n,"max",e[4]),32&t&&R(n,"list",e[5]),1&t&&C(n,e[0])},i:e,o:e,d(e){e&&y(n),l=!1,s(o)}}}function xl(e,t,n){let{id:l=null}=t,{step:s=1}=t,{min:o=0}=t,{max:r=1}=t,{list:a=null}=t,{value:c}=t;return e.$$set=e=>{"id"in e&&n(1,l=e.id),"step"in e&&n(2,s=e.step),"min"in e&&n(3,o=e.min),"max"in e&&n(4,r=e.max),"list"in e&&n(5,a=e.list),"value"in e&&n(0,c=e.value)},[c,l,s,o,r,a,function(){c=function(e){return""===e?void 0:+e}(this.value),n(0,c)}]}class kl extends ye{constructor(e){super(),we(this,e,xl,yl,r,{id:1,step:2,min:3,max:4,list:5,value:0})}}function _l(e){let t,n,l,s,o,r,a,c,i;function u(t){e[1].call(null,t)}let $={step:.1,min:-1,max:1,list:"stops"};return void 0!==e[0]&&($.value=e[0]),n=new kl({props:$}),H.push(()=>me(n,"value",u)),{c(){t=k("div"),ge(n.$$.fragment),s=z(),o=k("datalist"),r=k("option"),a=k("option"),c=k("option"),r.__value="-1",r.value=r.__value,R(r,"label","L"),R(r,"class","svelte-9t6ytv"),a.__value="0",a.value=a.__value,R(a,"label","C"),R(a,"class","svelte-9t6ytv"),c.__value="1",c.value=c.__value,R(c,"label","R"),R(c,"class","svelte-9t6ytv"),R(o,"id","stops"),R(o,"class","svelte-9t6ytv")},m(e,l){w(e,t,l),he(n,t,null),b(t,s),b(t,o),b(o,r),b(o,a),b(o,c),i=!0},p(e,[t]){const s={};!l&&1&t&&(l=!0,s.value=e[0],W(()=>l=!1)),n.$set(s)},i(e){i||(ie(n.$$.fragment,e),i=!0)},o(e){ue(n.$$.fragment,e),i=!1},d(e){e&&y(t),ve(n)}}}function zl(e,t,n){let{value:l=0}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value)},[l,function(e){l=e,n(0,l)}]}class El extends ye{constructor(e){super(),we(this,e,zl,_l,r,{value:0})}}function Pl(e,t,n){const l=e.slice();return l[11]=t[n],l[13]=n,l}function Rl(e){let t,n,l,s=e[11]+"";return{c(){t=k("option"),n=_(s),t.__value=l=e[13],t.value=t.__value},m(e,l){w(e,t,l),b(t,n)},p(e,t){8&t&&s!==(s=e[11]+"")&&S(n,s)},d(e){e&&y(t)}}}function Sl(e){let t,n,l,s=e[3],o=[];for(let t=0;t<s.length;t+=1)o[t]=Rl(Pl(e,s,t));return{c(){t=k("select");for(let e=0;e<o.length;e+=1)o[e].c();R(t,"class","select svelte-1eyum0s"),void 0===e[0][0]&&Y(()=>e[7].call(t))},m(s,r){w(s,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);A(t,e[0][0]),n||(l=P(t,"change",e[7]),n=!0)},p(e,n){if(8&n){let l;for(s=e[3],l=0;l<s.length;l+=1){const r=Pl(e,s,l);o[l]?o[l].p(r,n):(o[l]=Rl(r),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}1&n&&A(t,e[0][0])},d(e){e&&y(t),x(o,e),n=!1,l()}}}function Cl(e){let t,n;return t=new Ht({props:{label:e[1],$$slots:{default:[Sl]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},p(e,n){const l={};2&n&&(l.label=e[1]),16393&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Ml(e){let t,n,l,s,o,r,a,c,i,u,$,f,p,d=e[0].slice(2).map(e[8]).join("\n")+"";function m(t){e[9].call(null,t)}n=new Wt({props:{$$slots:{default:[Cl]},$$scope:{ctx:e}}});let g={};return void 0!==e[0][1]&&(g.value=e[0][1]),i=new El({props:g}),H.push(()=>me(i,"value",m)),{c(){t=k("div"),ge(n.$$.fragment),l=z(),s=k("div"),o=k("pre"),r=_(d),a=z(),c=k("div"),ge(i.$$.fragment),R(o,"class","notes svelte-1eyum0s"),M(o,"transform","translateY("+e[2]+")"),R(s,"class","noteList svelte-1eyum0s"),R(s,"tabindex","0"),R(c,"class","outset"),R(t,"class","channel svelte-1eyum0s")},m(u,d){w(u,t,d),he(n,t,null),b(t,l),b(t,s),b(s,o),b(o,r),b(t,a),b(t,c),he(i,c,null),$=!0,f||(p=P(s,"wheel",e[5]),f=!0)},p(e,[t]){const l={};16395&t&&(l.$$scope={dirty:t,ctx:e}),n.$set(l),(!$||1&t)&&d!==(d=e[0].slice(2).map(e[8]).join("\n")+"")&&S(r,d),(!$||4&t)&&M(o,"transform","translateY("+e[2]+")");const s={};!u&&1&t&&(u=!0,s.value=e[0][1],W(()=>u=!1)),i.$set(s)},i(e){$||(ie(n.$$.fragment,e),ie(i.$$.fragment,e),$=!0)},o(e){ue(n.$$.fragment,e),ue(i.$$.fragment,e),$=!1},d(e){e&&y(t),ve(n),ve(i),f=!1,p()}}}function Al(e,t,n){let l;i(e,Pe,e=>n(3,l=e));let{data:s=[]}=t,{title:o="Track"}=t,{selectedRow:r=0}=t;const a=["REL","---","C-1","C#1","D-1","D#1","E-1","F-1","F#1","G-1","G#1","A-1","A#1","B-1","C-2","C#2","D-2","D#2","E-2","F-2","F#2","G-2","G#2","A-2","A#2","B-2","C-3","C#3","D-3","D#3","E-3","F-3","F#3","G-3","G#3","A-3","A#3","B-3"];let c,u;return e.$$set=e=>{"data"in e&&n(0,s=e.data),"title"in e&&n(1,o=e.title),"selectedRow"in e&&n(6,r=e.selectedRow)},e.$$.update=()=>{64&e.$$.dirty&&n(2,c=18*-r+"px"),1&e.$$.dirty&&(u=s.length-3)},[s,o,c,l,a,e=>{const{deltaY:t,deltaMode:l}=e;if(0===l){n(6,r=ot(r+(t/4|0),0,u))}},r,function(){s[0]=T(this),n(0,s)},e=>`${a[1+e|0]} ${(e%1*100).toFixed().padStart(2,"0")}`,function(e){s[1]=e,n(0,s)}]}class Tl extends ye{constructor(e){super(),we(this,e,Al,Ml,r,{data:0,title:1,selectedRow:6})}}function Dl(e,t,n){const l=e.slice();return l[2]=t[n],l}function Nl(e){let t,n,l,s,o,r,a=e[2].toUpperCase()+"";return{c(){t=k("span"),n=_(a),l=z(),R(t,"tabindex","0"),R(t,"data-note",s=e[2]),R(t,"class","svelte-1400ryt")},m(s,a){w(s,t,a),b(t,n),b(t,l),o||(r=P(t,"mousedown",e[1]),o=!0)},p(e,l){1&l&&a!==(a=e[2].toUpperCase()+"")&&S(n,a),1&l&&s!==(s=e[2])&&R(t,"data-note",s)},d(e){e&&y(t),o=!1,r()}}}function jl(t){let n,l=t[0],s=[];for(let e=0;e<l.length;e+=1)s[e]=Nl(Dl(t,l,e));return{c(){n=k("div");for(let e=0;e<s.length;e+=1)s[e].c();R(n,"class","svelte-1400ryt")},m(e,t){w(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(3&t){let o;for(l=e[0],o=0;o<l.length;o+=1){const r=Dl(e,l,o);s[o]?s[o].p(r,t):(s[o]=Nl(r),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},i:e,o:e,d(e){e&&y(n),x(s,e)}}}function Ol(e,t,n){let l;return n(0,l=Object.entries(Ut).sort((e,t)=>e[1]-t[1]).map(([e])=>e)),[l,e=>{const{target:t,button:n}=e;if(0===n){t.focus();const e=new KeyboardEvent("keydown",{key:t.dataset.note});window.dispatchEvent(e)}}]}class ql extends ye{constructor(e){super(),we(this,e,Ol,jl,r,{})}}function Fl(e,t,n){const l=e.slice();return l[42]=t[n],l[43]=t,l[44]=n,l}function Ll(e,t,n){const l=e.slice();return l[45]=t[n],l[44]=n,l}function Il(e){let t,n,l,s,o,r,a,c;return t=new Vt({props:{label:"Add"}}),t.$on("click",e[14]),l=new Vt({props:{label:"Delete",disabled:e[10].length}}),l.$on("click",e[15]),o=new Vt({props:{label:"Copy"}}),o.$on("click",e[26]),a=new Vt({props:{label:"Paste",disabled:!e[5]}}),a.$on("click",e[27]),{c(){ge(t.$$.fragment),n=z(),ge(l.$$.fragment),s=z(),ge(o.$$.fragment),r=z(),ge(a.$$.fragment)},m(e,i){he(t,e,i),w(e,n,i),he(l,e,i),w(e,s,i),he(o,e,i),w(e,r,i),he(a,e,i),c=!0},p(e,t){const n={};1024&t[0]&&(n.disabled=e[10].length),l.$set(n);const s={};32&t[0]&&(s.disabled=!e[5]),a.$set(s)},i(e){c||(ie(t.$$.fragment,e),ie(l.$$.fragment,e),ie(o.$$.fragment,e),ie(a.$$.fragment,e),c=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),ue(o.$$.fragment,e),ue(a.$$.fragment,e),c=!1},d(e){ve(t,e),e&&y(n),ve(l,e),e&&y(s),ve(o,e),e&&y(r),ve(a,e)}}}function Xl(e){let t,n;return t=new Ht({props:{label:"Patterns",$$slots:{default:[Il]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},p(e,n){const l={};1056&n[0]|65536&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Ul(e){let t,n,l;return n=new Wt({props:{$$slots:{default:[Xl]},$$scope:{ctx:e}}}),{c(){t=k("div"),ge(n.$$.fragment),R(t,"slot","head")},m(e,s){w(e,t,s),he(n,t,null),l=!0},p(e,t){const l={};1056&t[0]|65536&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){e&&y(t),ve(n)}}}function Bl(e){let t,n,l,s,o,r=e[11][e[44]]+"";return{c(){t=k("option"),n=_(e[44]),l=_(": "),s=_(r),t.__value=o=e[44],t.value=t.__value},m(e,o){w(e,t,o),b(t,n),b(t,l),b(t,s)},p(e,t){2048&t[0]&&r!==(r=e[11][e[44]]+"")&&S(s,r)},d(e){e&&y(t)}}}function Gl(t){let n,l,o,r,a=t[8],c=[];for(let e=0;e<a.length;e+=1)c[e]=Bl(Ll(t,a,e));return{c(){n=z(),l=k("select");for(let e=0;e<c.length;e+=1)c[e].c();R(l,"class","select svelte-tb9ru4"),R(l,"size","2"),void 0===t[2]&&Y(()=>t[31].call(l))},m(e,s){w(e,n,s),w(e,l,s);for(let e=0;e<c.length;e+=1)c[e].m(l,null);A(l,t[2]),o||(r=[P(l,"input",t[28]),P(l,"change",t[31])],o=!0)},p(e,t){if(2304&t[0]){let n;for(a=e[8],n=0;n<a.length;n+=1){const s=Ll(e,a,n);c[n]?c[n].p(s,t):(c[n]=Bl(s),c[n].c(),c[n].m(l,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}4&t[0]&&A(l,e[2])},i:e,o:e,d(e){e&&y(n),e&&y(l),x(c,e),o=!1,s(r)}}}function Hl(e){let t,n,l,s;return t=new Vt({props:{disabled:e[12],keyboard:"ENTER",label:"Play Pattern"}}),t.$on("click",e[29]),l=new Vt({props:{disabled:!e[12],keyboard:"ENTER",label:"Stop"}}),l.$on("click",e[30]),{c(){ge(t.$$.fragment),n=z(),ge(l.$$.fragment)},m(e,o){he(t,e,o),w(e,n,o),he(l,e,o),s=!0},p(e,n){const s={};4096&n[0]&&(s.disabled=e[12]),t.$set(s);const o={};4096&n[0]&&(o.disabled=!e[12]),l.$set(o)},i(e){s||(ie(t.$$.fragment,e),ie(l.$$.fragment,e),s=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),s=!1},d(e){ve(t,e),e&&y(n),ve(l,e)}}}function Jl(e){let t,n,l,s,o,r,a,c,i,u,$,f,p,d;return t=new Vt({props:{label:"Add"}}),t.$on("click",e[21]),l=new Vt({props:{label:"Clear"}}),l.$on("click",e[23]),o=new Vt({props:{label:"Copy"}}),o.$on("click",e[24]),a=new Vt({props:{disabled:!e[4],label:"Paste"}}),a.$on("click",e[25]),i=new Vt({props:{disabled:1===e[9],label:"Delete"}}),i.$on("click",e[22]),$=new Vt({props:{disabled:1===e[9]||0===e[0],label:"Move Left"}}),$.$on("click",e[19]),p=new Vt({props:{disabled:1===e[9]||e[0]===e[9]-1,label:"Move Right"}}),p.$on("click",e[20]),{c(){ge(t.$$.fragment),n=z(),ge(l.$$.fragment),s=z(),ge(o.$$.fragment),r=z(),ge(a.$$.fragment),c=z(),ge(i.$$.fragment),u=z(),ge($.$$.fragment),f=z(),ge(p.$$.fragment)},m(e,m){he(t,e,m),w(e,n,m),he(l,e,m),w(e,s,m),he(o,e,m),w(e,r,m),he(a,e,m),w(e,c,m),he(i,e,m),w(e,u,m),he($,e,m),w(e,f,m),he(p,e,m),d=!0},p(e,t){const n={};16&t[0]&&(n.disabled=!e[4]),a.$set(n);const l={};512&t[0]&&(l.disabled=1===e[9]),i.$set(l);const s={};513&t[0]&&(s.disabled=1===e[9]||0===e[0]),$.$set(s);const o={};513&t[0]&&(o.disabled=1===e[9]||e[0]===e[9]-1),p.$set(o)},i(e){d||(ie(t.$$.fragment,e),ie(l.$$.fragment,e),ie(o.$$.fragment,e),ie(a.$$.fragment,e),ie(i.$$.fragment,e),ie($.$$.fragment,e),ie(p.$$.fragment,e),d=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),ue(o.$$.fragment,e),ue(a.$$.fragment,e),ue(i.$$.fragment,e),ue($.$$.fragment,e),ue(p.$$.fragment,e),d=!1},d(e){ve(t,e),e&&y(n),ve(l,e),e&&y(s),ve(o,e),e&&y(r),ve(a,e),e&&y(c),ve(i,e),e&&y(u),ve($,e),e&&y(f),ve(p,e)}}}function Kl(e){let t,n,l,s,o,r;return t=new Vt({props:{label:"Add"}}),t.$on("click",e[16]),l=new Vt({props:{disabled:1===e[9],label:"Delete"}}),l.$on("click",e[17]),o=new Vt({props:{label:"Clear"}}),o.$on("click",e[18]),{c(){ge(t.$$.fragment),n=z(),ge(l.$$.fragment),s=z(),ge(o.$$.fragment)},m(e,a){he(t,e,a),w(e,n,a),he(l,e,a),w(e,s,a),he(o,e,a),r=!0},p(e,t){const n={};512&t[0]&&(n.disabled=1===e[9]),l.$set(n)},i(e){r||(ie(t.$$.fragment,e),ie(l.$$.fragment,e),ie(o.$$.fragment,e),r=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),ue(o.$$.fragment,e),r=!1},d(e){ve(t,e),e&&y(n),ve(l,e),e&&y(s),ve(o,e)}}}function Vl(e){let t,n,l,s,o,r,a,c,i,u,$,f,p,d;function m(t){e[32].call(null,t)}let g={label:"#",max:e[7]};function h(t){e[33].call(null,t)}void 0!==e[2]&&(g.value=e[2]),t=new An({props:g}),H.push(()=>me(t,"value",m)),t.$on("input",e[28]);let v={label:"Name"};return void 0!==e[11][e[2]]&&(v.value=e[11][e[2]]),s=new Rn({props:v}),H.push(()=>me(s,"value",h)),a=new Ht({props:{label:"Playback",$$slots:{default:[Hl]},$$scope:{ctx:e}}}),i=new Ht({props:{label:"Track",$$slots:{default:[Jl]},$$scope:{ctx:e}}}),$=new Ht({props:{label:"Row",$$slots:{default:[Kl]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),l=z(),ge(s.$$.fragment),r=z(),ge(a.$$.fragment),c=z(),ge(i.$$.fragment),u=z(),ge($.$$.fragment),f=z(),p=k("div"),R(p,"class","outset")},m(e,n){he(t,e,n),w(e,l,n),he(s,e,n),w(e,r,n),he(a,e,n),w(e,c,n),he(i,e,n),w(e,u,n),he($,e,n),w(e,f,n),w(e,p,n),d=!0},p(e,l){const r={};128&l[0]&&(r.max=e[7]),!n&&4&l[0]&&(n=!0,r.value=e[2],W(()=>n=!1)),t.$set(r);const c={};!o&&2052&l[0]&&(o=!0,c.value=e[11][e[2]],W(()=>o=!1)),s.$set(c);const u={};4096&l[0]|65536&l[1]&&(u.$$scope={dirty:l,ctx:e}),a.$set(u);const f={};529&l[0]|65536&l[1]&&(f.$$scope={dirty:l,ctx:e}),i.$set(f);const p={};512&l[0]|65536&l[1]&&(p.$$scope={dirty:l,ctx:e}),$.$set(p)},i(e){d||(ie(t.$$.fragment,e),ie(s.$$.fragment,e),ie(a.$$.fragment,e),ie(i.$$.fragment,e),ie($.$$.fragment,e),d=!0)},o(e){ue(t.$$.fragment,e),ue(s.$$.fragment,e),ue(a.$$.fragment,e),ue(i.$$.fragment,e),ue($.$$.fragment,e),d=!1},d(e){ve(t,e),e&&y(l),ve(s,e),e&&y(r),ve(a,e),e&&y(c),ve(i,e),e&&y(u),ve($,e),e&&y(f),e&&y(p)}}}function Zl(e){let t,n,l;return n=new Wt({props:{$$slots:{default:[Vl]},$$scope:{ctx:e}}}),{c(){t=k("div"),ge(n.$$.fragment),R(t,"slot","head")},m(e,s){w(e,t,s),he(n,t,null),l=!0},p(e,t){const l={};6805&t[0]|65536&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){e&&y(t),ve(n)}}}function Yl(e){let t,n,l,s,o,r,a,c,i,u=e[44];function $(t){e[34].call(null,t)}let f={title:"Track "+e[44],data:e[42]};void 0!==e[1]&&(f.selectedRow=e[1]),n=new Tl({props:f}),H.push(()=>me(n,"selectedRow",$)),n.$on("rowselect",e[35]);const p=()=>e[36](t,u),d=()=>e[36](null,u);function m(...t){return e[37](e[44],...t)}return{c(){t=k("div"),ge(n.$$.fragment),s=z(),o=k("div"),r=z(),R(o,"class","level svelte-tb9ru4"),M(o,"transform","scaleY("+(e[13][e[44]]||0)+")"),R(t,"class","channel inset svelte-tb9ru4"),D(t,"selected",e[44]==e[0])},m(e,l){w(e,t,l),he(n,t,null),b(t,s),b(t,o),b(t,r),p(),a=!0,c||(i=P(t,"focusin",m),c=!0)},p(s,r){e=s;const c={};260&r[0]&&(c.data=e[42]),!l&&2&r[0]&&(l=!0,c.selectedRow=e[1],W(()=>l=!1)),n.$set(c),(!a||8192&r[0])&&M(o,"transform","scaleY("+(e[13][e[44]]||0)+")"),u!==e[44]&&(d(),u=e[44],p()),1&r[0]&&D(t,"selected",e[44]==e[0])},i(e){a||(ie(n.$$.fragment,e),a=!0)},o(e){ue(n.$$.fragment,e),a=!1},d(e){e&&y(t),ve(n),d(),c=!1,i()}}}function Wl(e){let t,n;return t=new ql({}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Ql(e){let t,n,l,s,o,r=e[8][e[2]],a=[];for(let t=0;t<r.length;t+=1)a[t]=Yl(Fl(e,r,t));const c=e=>ue(a[e],1,1,()=>{a[e]=null});let i=e[3]&&Wl();return{c(){t=z(),n=k("div");for(let e=0;e<a.length;e+=1)a[e].c();l=z(),i&&i.c(),s=E(),R(n,"class","channels outset svelte-tb9ru4")},m(e,r){w(e,t,r),w(e,n,r);for(let e=0;e<a.length;e+=1)a[e].m(n,null);w(e,l,r),i&&i.m(e,r),w(e,s,r),o=!0},p(e,t){if(8519&t[0]){let l;for(r=e[8][e[2]],l=0;l<r.length;l+=1){const s=Fl(e,r,l);a[l]?(a[l].p(s,t),ie(a[l],1)):(a[l]=Yl(s),a[l].c(),ie(a[l],1),a[l].m(n,null))}for(ae(),l=r.length;l<a.length;l+=1)c(l);ce()}e[3]?i?8&t[0]&&ie(i,1):(i=Wl(),i.c(),ie(i,1),i.m(s.parentNode,s)):i&&(ae(),ue(i,1,1,()=>{i=null}),ce())},i(e){if(!o){for(let e=0;e<r.length;e+=1)ie(a[e]);ie(i),o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)ue(a[e]);ue(i),o=!1},d(e){e&&y(t),e&&y(n),x(a,e),e&&y(l),i&&i.d(e),e&&y(s)}}}function es(e){let t,n,l,s,o;return n=new ln({props:{$$slots:{default:[Gl],head:[Ul]},$$scope:{ctx:e}}}),s=new ln({props:{$$slots:{default:[Ql],head:[Zl]},$$scope:{ctx:e}}}),{c(){t=k("div"),ge(n.$$.fragment),l=z(),ge(s.$$.fragment),R(t,"class","splitView")},m(e,r){w(e,t,r),he(n,t,null),b(t,l),he(s,t,null),o=!0},p(e,t){const l={};3364&t[0]|65536&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l);const o={};15327&t[0]|65536&t[1]&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){o||(ie(n.$$.fragment,e),ie(s.$$.fragment,e),o=!0)},o(e){ue(n.$$.fragment,e),ue(s.$$.fragment,e),o=!1},d(e){e&&y(t),ve(n),ve(s)}}}function ts(e,t,n){let l,s,o,r,a;i(e,Re,e=>n(8,l=e)),i(e,Ce,e=>n(38,s=e)),i(e,Se,e=>n(11,o=e)),i(e,Fe,e=>n(12,r=e)),i(e,qe,e=>n(13,a=e));let c,u,{selectedChannel:$=0}=t,{selectedRow:f=0}=t,{selectedPattern:d=0}=t,{piano:m=!1}=t;const g=U(),h=[],v=(e,t)=>{const n=l[d].slice();[n[e],n[t]]=[n[t],n[e]],p(Re,l[d]=n,l)};let b,w,y;return e.$$set=e=>{"selectedChannel"in e&&n(0,$=e.selectedChannel),"selectedRow"in e&&n(1,f=e.selectedRow),"selectedPattern"in e&&n(2,d=e.selectedPattern),"piano"in e&&n(3,m=e.piano)},e.$$.update=()=>{256&e.$$.dirty[0]&&n(7,b=l.length),260&e.$$.dirty[0]&&n(2,d=ot(d,0,l.length-1)),260&e.$$.dirty[0]&&n(9,w=l[d].length),261&e.$$.dirty[0]&&n(0,$=ot($,0,l[d].length-1)),262&e.$$.dirty[0]&&n(1,f=0|ot(f,0,l[d][0].length-3)),4&e.$$.dirty[0]|128&e.$$.dirty[1]&&n(10,y=s.map((e,t)=>e===d&&t).filter(e=>!1!==e))},[$,f,d,m,c,u,h,b,l,w,y,o,r,a,()=>{n(2,d=ct(((e=3,t=64)=>new Array(e).fill(0).map(()=>it(t)))(3,64)))},()=>{var e;e=d,Re.update(t=>(t.splice(e,1),t)),Se.update(t=>(t.splice(e,1),t))},()=>{n(1,f=(e=>{let t;return Re.update(n=>(t=n[e][0].length-2,n[e].forEach(e=>e.push(0)),n)),t})(d))},()=>{var e,t;e=d,t=f,Re.update(n=>(n[e].forEach(e=>{e.splice(t+2,1)}),n))},()=>{var e,t;e=d,t=f,Re.update(n=>(n[e].forEach(e=>{e[t+2]=0}),n))},()=>{v($,n(0,--$))},()=>{v($,n(0,++$))},()=>{n(0,$=((e,t=0,n=0)=>{let l;return Re.update(s=>{l=s[e].length;const o=s[e][0].length-2;return s[e].push(it(o,t,n)),s}),l})(d))},()=>{var e,t;e=d,t=$,Re.update(n=>(n[e].splice(t,1),n))},()=>{l[d][$].fill(0,2),Re.set(l)},()=>{n(4,c=l[d][$].slice())},()=>{p(Re,l[d][$]=c.slice(),l),Re.set(l)},()=>{n(5,u=l[d].slice())},()=>{var e,t;e=d,t=u.slice(),Re.update(n=>(n[e]=t,n))},()=>{g("patternselect"),n(1,f=0)},()=>{Lt(d)},()=>{Xt()},function(){d=T(this),n(2,d),n(8,l)},function(e){d=e,n(2,d),n(8,l)},function(e){o[d]=e,Se.set(o)},function(e){f=e,n(1,f),n(8,l),n(2,d)},function(t){B(e,t)},function(e,t){H[e?"unshift":"push"](()=>{h[t]=e,n(6,h)})},e=>n(0,$=e)]}class ns extends ye{constructor(e){super(),we(this,e,ts,es,r,{selectedChannel:0,selectedRow:1,selectedPattern:2,piano:3},[-1,-1])}}function ls(e,t,n){const l=e.slice();return l[13]=t[n],l[15]=n,l}function ss(e,t,n){const l=e.slice();return l[10]=t[n],l}function os(e,t,n){const l=e.slice();return l[7]=t[n],l}function rs(t){let n,l,s=t[13]+"",o=t[15]&&function(e){let t;return{c(){t=_(" + ")},m(e,n){w(e,t,n)},d(e){e&&y(t)}}}();return{c(){o&&o.c(),n=k("kbd"),l=_(s),R(n,"class","svelte-6rjppp")},m(e,t){o&&o.m(e,t),w(e,n,t),b(n,l)},p:e,d(e){o&&o.d(e),e&&y(n)}}}function as(e){let t,n,l,s,o=e[10].desc+"",r=e[10].keys,a=[];for(let t=0;t<r.length;t+=1)a[t]=rs(ls(e,r,t));return{c(){t=k("dt");for(let e=0;e<a.length;e+=1)a[e].c();n=z(),l=k("dd"),s=_(o),R(t,"class","svelte-6rjppp"),R(l,"class","svelte-6rjppp")},m(e,o){w(e,t,o);for(let e=0;e<a.length;e+=1)a[e].m(t,null);b(t,n),w(e,l,o),b(l,s)},p(e,l){if(2&l){let s;for(r=e[10].keys,s=0;s<r.length;s+=1){const o=ls(e,r,s);a[s]?a[s].p(o,l):(a[s]=rs(o),a[s].c(),a[s].m(t,n))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(e){e&&y(t),x(a,e),e&&y(l)}}}function cs(e){let t,n,l,s=e[7].name+"",o=e[7].shortcuts,r=[];for(let t=0;t<o.length;t+=1)r[t]=as(ss(e,o,t));return{c(){t=_(s),n=z(),l=k("dl");for(let e=0;e<r.length;e+=1)r[e].c();R(l,"class","svelte-6rjppp")},m(e,s){w(e,t,s),w(e,n,s),w(e,l,s);for(let e=0;e<r.length;e+=1)r[e].m(l,null)},p(e,t){if(2&t){let n;for(o=e[7].shortcuts,n=0;n<o.length;n+=1){const s=ss(e,o,n);r[n]?r[n].p(s,t):(r[n]=as(s),r[n].c(),r[n].m(l,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}},d(e){e&&y(t),e&&y(n),e&&y(l),x(r,e)}}}function is(e){let t,n=e[1],l=[];for(let t=0;t<n.length;t+=1)l[t]=cs(os(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=E()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);w(e,t,n)},p(e,s){if(2&s){let o;for(n=e[1],o=0;o<n.length;o+=1){const r=os(e,n,o);l[o]?l[o].p(r,s):(l[o]=cs(r),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(e){x(l,e),e&&y(t)}}}function us(e){let t,n,l;function s(t){e[2].call(null,t)}let o={title:"Keyboard shortcuts",$$slots:{default:[is]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.open=e[0]),t=new Bn({props:o}),H.push(()=>me(t,"open",s)),{c(){ge(t.$$.fragment)},m(e,n){he(t,e,n),l=!0},p(e,[l]){const s={};65536&l&&(s.$$scope={dirty:l,ctx:e}),!n&&1&l&&(n=!0,s.open=e[0],W(()=>n=!1)),t.$set(s)},i(e){l||(ie(t.$$.fragment,e),l=!0)},o(e){ue(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function $s(e,t,n){let{open:l=!1}=t;const s=navigator.userAgent.indexOf("Mac OS X")>-1,o=s?"⌥":"ALT",r=s?"▲":"ꜛ",a=s?"▼":"ꜜ",c=[{name:"Playback",shortcuts:[{keys:["ENTER"],desc:"Play / Stop the current pattern"},{keys:[o,"ENTER"],desc:"Play / Stop song"},{keys:["⇧","ENTER"],desc:"Play the current pattern from the beginning"},{keys:[o,"⇧","ENTER"],desc:"Play song from the beginning"}]},{name:"Editing",shortcuts:[{keys:[r],desc:"Move up one row in the pattern"},{keys:[a],desc:"Move down one row in the pattern"},{keys:["⇧",r],desc:"Move up 4 rows in the pattern"},{keys:["⇧",a],desc:"Move down 4 rows in the pattern"},{keys:[o,r],desc:"Increase note attenuation (fine)"},{keys:[o,a],desc:"Decrease note attenuation (fine)"},{keys:[o,"⇧",r],desc:"Increase note attenuation (coarse)"},{keys:[o,"⇧",a],desc:"Decrease note attenuation (coarse)"},{keys:["SPACE"],desc:"Release note"},{keys:["←"],desc:"Clear note"}]}];return e.$$set=e=>{"open"in e&&n(0,l=e.open)},[l,c,function(e){l=e,n(0,l)}]}class fs extends ye{constructor(e){super(),we(this,e,$s,us,r,{open:0})}}var ps="https://github.com/keithclark/ZzFXM";function ds(t){let n,l,s,o,r,a,c,i,u,$,f,p;return{c(){n=k("div"),l=k("h1"),l.textContent="ZzFXM Music Tracker",s=_("\n    v"),o=_("1.0.0b"),r=z(),a=k("p"),a.innerHTML='by <a href="https://keithclark.co.uk">Keith Clark</a>',c=z(),i=k("p"),u=_("Source available at the "),$=k("a"),f=_("ZzFXM GitHub Repo"),R($,"href",p=ps),R(n,"class","svelte-47q0ub")},m(e,t){w(e,n,t),b(n,l),b(n,s),b(n,o),b(n,r),b(n,a),b(n,c),b(n,i),b(i,u),b(i,$),b($,f)},p:e,d(e){e&&y(n)}}}function ms(e){let t,n,l;function s(t){e[1].call(null,t)}let o={title:"About",$$slots:{default:[ds]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.open=e[0]),t=new Bn({props:o}),H.push(()=>me(t,"open",s)),{c(){ge(t.$$.fragment)},m(e,n){he(t,e,n),l=!0},p(e,[l]){const s={};4&l&&(s.$$scope={dirty:l,ctx:e}),!n&&1&l&&(n=!0,s.open=e[0],W(()=>n=!1)),t.$set(s)},i(e){l||(ie(t.$$.fragment,e),l=!0)},o(e){ue(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function gs(e,t,n){let{open:l=!1}=t;return e.$$set=e=>{"open"in e&&n(0,l=e.open)},[l,function(e){l=e,n(0,l)}]}class hs extends ye{constructor(e){super(),we(this,e,gs,ms,r,{open:0})}}function vs(e){let t,n,l;return{c(){t=k("span"),n=_("Error: "),l=_(e[2])},m(e,s){w(e,t,s),b(t,n),b(t,l)},p(e,t){4&t&&S(l,e[2])},d(e){e&&y(t)}}}function bs(t){let n,l,s;return l=new Vt({props:{label:"Ok"}}),l.$on("click",t[3]),{c(){n=k("span"),ge(l.$$.fragment),R(n,"slot","controls")},m(e,t){w(e,n,t),he(l,n,null),s=!0},p:e,i(e){s||(ie(l.$$.fragment,e),s=!0)},o(e){ue(l.$$.fragment,e),s=!1},d(e){e&&y(n),ve(l)}}}function ws(t){let n,l,s,o,r,a,c,i=t[2]&&vs(t);return{c(){n=k("div"),l=k("div"),s=k("textarea"),o=z(),i&&i.c(),r=z(),R(s,"class","inset input svelte-uhkicr"),R(l,"class","inset svelte-uhkicr"),R(n,"class","wrap svelte-uhkicr")},m(e,u){w(e,n,u),b(n,l),b(l,s),C(s,t[1]),b(n,o),i&&i.m(n,null),w(e,r,u),a||(c=P(s,"input",t[4]),a=!0)},p(e,t){2&t&&C(s,e[1]),e[2]?i?i.p(e,t):(i=vs(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},i:e,o:e,d(e){e&&y(n),i&&i.d(),e&&y(r),a=!1,c()}}}function ys(e){let t,n,l;function s(t){e[5].call(null,t)}let o={title:"Source",$$slots:{default:[ws],controls:[bs]},$$scope:{ctx:e}};return void 0!==e[0]&&(o.open=e[0]),t=new Bn({props:o}),H.push(()=>me(t,"open",s)),{c(){ge(t.$$.fragment)},m(e,n){he(t,e,n),l=!0},p(e,[l]){const s={};70&l&&(s.$$scope={dirty:l,ctx:e}),!n&&1&l&&(n=!0,s.open=e[0],W(()=>n=!1)),t.$set(s)},i(e){l||(ie(t.$$.fragment,e),l=!0)},o(e){ue(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function xs(e,t,n){let l,s,{open:o=!1}=t;return e.$$set=e=>{"open"in e&&n(0,o=e.open)},e.$$.update=()=>{1&e.$$.dirty&&o&&(n(1,l=ht()),n(2,s=null))},[o,l,s,()=>{try{vt(l),n(0,o=!1)}catch(e){n(2,s=e.message)}},function(){l=this.value,n(1,l),n(0,o)},function(e){o=e,n(0,o)}]}class ks extends ye{constructor(e){super(),we(this,e,xs,ys,r,{open:0})}}const{window:_s}=pe;function zs(e){let t,n,l,s;return t=new Vt({props:{disabled:e[12],keyboard:"ALT + ENTER",label:"Play Song"}}),t.$on("click",e[18]),l=new Vt({props:{disabled:!e[12],keyboard:"ENTER",label:"Stop"}}),l.$on("click",e[19]),{c(){ge(t.$$.fragment),n=z(),ge(l.$$.fragment)},m(e,o){he(t,e,o),w(e,n,o),he(l,e,o),s=!0},p(e,n){const s={};4096&n[0]&&(s.disabled=e[12]),t.$set(s);const o={};4096&n[0]&&(o.disabled=!e[12]),l.$set(o)},i(e){s||(ie(t.$$.fragment,e),ie(l.$$.fragment,e),s=!0)},o(e){ue(t.$$.fragment,e),ue(l.$$.fragment,e),s=!1},d(e){ve(t,e),e&&y(n),ve(l,e)}}}function Es(t){let n,l,s,o,r,a,c,i,u,$;return n=new Vt({props:{label:"New"}}),n.$on("click",t[25]),s=new Vt({props:{label:"Load"}}),s.$on("click",t[20]),r=new Vt({props:{label:"Save"}}),r.$on("click",t[21]),c=new Vt({props:{label:"Source"}}),c.$on("click",t[26]),u=new Vt({props:{label:"Load Demo"}}),u.$on("click",t[29]),{c(){ge(n.$$.fragment),l=z(),ge(s.$$.fragment),o=z(),ge(r.$$.fragment),a=z(),ge(c.$$.fragment),i=z(),ge(u.$$.fragment)},m(e,t){he(n,e,t),w(e,l,t),he(s,e,t),w(e,o,t),he(r,e,t),w(e,a,t),he(c,e,t),w(e,i,t),he(u,e,t),$=!0},p:e,i(e){$||(ie(n.$$.fragment,e),ie(s.$$.fragment,e),ie(r.$$.fragment,e),ie(c.$$.fragment,e),ie(u.$$.fragment,e),$=!0)},o(e){ue(n.$$.fragment,e),ue(s.$$.fragment,e),ue(r.$$.fragment,e),ue(c.$$.fragment,e),ue(u.$$.fragment,e),$=!1},d(e){ve(n,e),e&&y(l),ve(s,e),e&&y(o),ve(r,e),e&&y(a),ve(c,e),e&&y(i),ve(u,e)}}}function Ps(t){let n,l,s,o;return n=new Vt({props:{label:"Piano"}}),n.$on("click",t[27]),s=new Vt({props:{label:"Instruments"}}),s.$on("click",t[28]),{c(){ge(n.$$.fragment),l=z(),ge(s.$$.fragment)},m(e,t){he(n,e,t),w(e,l,t),he(s,e,t),o=!0},p:e,i(e){o||(ie(n.$$.fragment,e),ie(s.$$.fragment,e),o=!0)},o(e){ue(n.$$.fragment,e),ue(s.$$.fragment,e),o=!1},d(e){ve(n,e),e&&y(l),ve(s,e)}}}function Rs(e){let t,n,l;function s(t){e[32].call(null,t)}let o={id:e[48],min:0,max:1,step:.1};return void 0!==e[14]&&(o.value=e[14]),t=new kl({props:o}),H.push(()=>me(t,"value",s)),{c(){ge(t.$$.fragment)},m(e,n){he(t,e,n),l=!0},p(e,l){const s={};131072&l[1]&&(s.id=e[48]),!n&&16384&l[0]&&(n=!0,s.value=e[14],W(()=>n=!1)),t.$set(s)},i(e){l||(ie(t.$$.fragment,e),l=!0)},o(e){ue(t.$$.fragment,e),l=!1},d(e){ve(t,e)}}}function Ss(t){let n,l,s,o;return n=new Vt({props:{label:"About"}}),n.$on("click",t[23]),s=new Vt({props:{label:"Keys"}}),s.$on("click",t[22]),{c(){ge(n.$$.fragment),l=z(),ge(s.$$.fragment)},m(e,t){he(n,e,t),w(e,l,t),he(s,e,t),o=!0},p:e,i(e){o||(ie(n.$$.fragment,e),ie(s.$$.fragment,e),o=!0)},o(e){ue(n.$$.fragment,e),ue(s.$$.fragment,e),o=!1},d(e){ve(n,e),e&&y(l),ve(s,e)}}}function Cs(e){let t,n,l,s,o,r,a,c,i,u,$,f,p,d,m,g,h,v;function b(t){e[30].call(null,t)}let x={label:"Title"};function _(t){e[31].call(null,t)}void 0!==e[9]&&(x.value=e[9]),t=new Rn({props:x}),H.push(()=>me(t,"value",b));let E={label:"Speed",size:3,min:1,max:320};return void 0!==e[13]&&(E.value=e[13]),s=new An({props:E}),H.push(()=>me(s,"value",_)),a=new Ht({props:{label:"Playback",$$slots:{default:[zs]},$$scope:{ctx:e}}}),i=new Ht({props:{label:"File",$$slots:{default:[Es]},$$scope:{ctx:e}}}),$=new Ht({props:{label:"Toggle Tools",$$slots:{default:[Ps]},$$scope:{ctx:e}}}),p=new _n({props:{label:"Master Volume",$$slots:{default:[Rs,({id:e})=>({48:e}),({id:e})=>[0,e?131072:0]]},$$scope:{ctx:e}}}),m=new Ht({props:{label:"Help",$$slots:{default:[Ss]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),l=z(),ge(s.$$.fragment),r=z(),ge(a.$$.fragment),c=z(),ge(i.$$.fragment),u=z(),ge($.$$.fragment),f=z(),ge(p.$$.fragment),d=z(),ge(m.$$.fragment),g=z(),h=k("div"),R(h,"class","outset")},m(e,n){he(t,e,n),w(e,l,n),he(s,e,n),w(e,r,n),he(a,e,n),w(e,c,n),he(i,e,n),w(e,u,n),he($,e,n),w(e,f,n),he(p,e,n),w(e,d,n),he(m,e,n),w(e,g,n),w(e,h,n),v=!0},p(e,l){const r={};!n&&512&l[0]&&(n=!0,r.value=e[9],W(()=>n=!1)),t.$set(r);const c={};!o&&8192&l[0]&&(o=!0,c.value=e[13],W(()=>o=!1)),s.$set(c);const u={};4096&l[0]|262144&l[1]&&(u.$$scope={dirty:l,ctx:e}),a.$set(u);const f={};262144&l[1]&&(f.$$scope={dirty:l,ctx:e}),i.$set(f);const d={};262144&l[1]&&(d.$$scope={dirty:l,ctx:e}),$.$set(d);const g={};16384&l[0]|393216&l[1]&&(g.$$scope={dirty:l,ctx:e}),p.$set(g);const h={};262144&l[1]&&(h.$$scope={dirty:l,ctx:e}),m.$set(h)},i(e){v||(ie(t.$$.fragment,e),ie(s.$$.fragment,e),ie(a.$$.fragment,e),ie(i.$$.fragment,e),ie($.$$.fragment,e),ie(p.$$.fragment,e),ie(m.$$.fragment,e),v=!0)},o(e){ue(t.$$.fragment,e),ue(s.$$.fragment,e),ue(a.$$.fragment,e),ue(i.$$.fragment,e),ue($.$$.fragment,e),ue(p.$$.fragment,e),ue(m.$$.fragment,e),v=!1},d(e){ve(t,e),e&&y(l),ve(s,e),e&&y(r),ve(a,e),e&&y(c),ve(i,e),e&&y(u),ve($,e),e&&y(f),ve(p,e),e&&y(d),ve(m,e),e&&y(g),e&&y(h)}}}function Ms(e){let t,n,l;return n=new Wt({props:{$$slots:{default:[Cs]},$$scope:{ctx:e}}}),{c(){t=k("div"),ge(n.$$.fragment),R(t,"slot","head")},m(e,s){w(e,t,s),he(n,t,null),l=!0},p(e,t){const l={};29184&t[0]|262144&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(ie(n.$$.fragment,e),l=!0)},o(e){ue(n.$$.fragment,e),l=!1},d(e){e&&y(t),ve(n)}}}function As(e){let t,n;return t=new wl({}),{c(){ge(t.$$.fragment)},m(e,l){he(t,e,l),n=!0},i(e){n||(ie(t.$$.fragment,e),n=!0)},o(e){ue(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Ts(e){let t,n,l,o,r,a,c,i,u,$,f,p,d,m,g,h,v,x,_,E,S,C,M,A,T;function D(t){e[33].call(null,t)}n=new ln({props:{$$slots:{head:[Ms]},$$scope:{ctx:e}}});let N={};function j(t){e[34].call(null,t)}function O(t){e[35].call(null,t)}function q(t){e[36].call(null,t)}void 0!==e[7]&&(N.selectedPosition=e[7]),o=new vn({props:N}),H.push(()=>me(o,"selectedPosition",D)),o.$on("select",e[17]),o.$on("input",e[16]);let F={piano:e[5]};void 0!==e[10]&&(F.selectedChannel=e[10]),void 0!==e[8]&&(F.selectedRow=e[8]),void 0!==e[11]&&(F.selectedPattern=e[11]),c=new ns({props:F}),H.push(()=>me(c,"selectedChannel",j)),H.push(()=>me(c,"selectedRow",O)),H.push(()=>me(c,"selectedPattern",q)),c.$on("patternselect",e[15]);let L=e[6]&&As();function I(t){e[37].call(null,t)}let X={};function U(t){e[38].call(null,t)}void 0!==e[2]&&(X.open=e[2]),d=new fs({props:X}),H.push(()=>me(d,"open",I));let B={};function G(t){e[39].call(null,t)}void 0!==e[3]&&(B.open=e[3]),h=new hs({props:B}),H.push(()=>me(h,"open",U));let J={};return void 0!==e[4]&&(J.open=e[4]),_=new ks({props:J}),H.push(()=>me(_,"open",G)),{c(){t=k("main"),ge(n.$$.fragment),l=z(),ge(o.$$.fragment),a=z(),ge(c.$$.fragment),f=z(),L&&L.c(),p=z(),ge(d.$$.fragment),g=z(),ge(h.$$.fragment),x=z(),ge(_.$$.fragment),S=z(),C=k("input"),R(t,"class","svelte-x9n455"),R(C,"type","file"),C.hidden=!0},m(s,r){w(s,t,r),he(n,t,null),b(t,l),he(o,t,null),b(t,a),he(c,t,null),b(t,f),L&&L.m(t,null),w(s,p,r),he(d,s,r),w(s,g,r),he(h,s,r),w(s,x,r),he(_,s,r),w(s,S,r),w(s,C,r),e[40](C),M=!0,A||(T=[P(_s,"keydown",e[24]),P(C,"change",e[41])],A=!0)},p(e,l){const s={};29184&l[0]|262144&l[1]&&(s.$$scope={dirty:l,ctx:e}),n.$set(s);const a={};!r&&128&l[0]&&(r=!0,a.selectedPosition=e[7],W(()=>r=!1)),o.$set(a);const f={};32&l[0]&&(f.piano=e[5]),!i&&1024&l[0]&&(i=!0,f.selectedChannel=e[10],W(()=>i=!1)),!u&&256&l[0]&&(u=!0,f.selectedRow=e[8],W(()=>u=!1)),!$&&2048&l[0]&&($=!0,f.selectedPattern=e[11],W(()=>$=!1)),c.$set(f),e[6]?L?64&l[0]&&ie(L,1):(L=As(),L.c(),ie(L,1),L.m(t,null)):L&&(ae(),ue(L,1,1,()=>{L=null}),ce());const p={};!m&&4&l[0]&&(m=!0,p.open=e[2],W(()=>m=!1)),d.$set(p);const g={};!v&&8&l[0]&&(v=!0,g.open=e[3],W(()=>v=!1)),h.$set(g);const b={};!E&&16&l[0]&&(E=!0,b.open=e[4],W(()=>E=!1)),_.$set(b)},i(e){M||(ie(n.$$.fragment,e),ie(o.$$.fragment,e),ie(c.$$.fragment,e),ie(L),ie(d.$$.fragment,e),ie(h.$$.fragment,e),ie(_.$$.fragment,e),M=!0)},o(e){ue(n.$$.fragment,e),ue(o.$$.fragment,e),ue(c.$$.fragment,e),ue(L),ue(d.$$.fragment,e),ue(h.$$.fragment,e),ue(_.$$.fragment,e),M=!1},d(l){l&&y(t),ve(n),ve(o),ve(c),L&&L.d(),l&&y(p),ve(d,l),l&&y(g),ve(h,l),l&&y(x),ve(_,l),l&&y(S),l&&y(C),e[40](null),A=!1,s(T)}}}function Ds(e,t,n){let l,s,o,r,a,c,u,$,f,d,m,g;i(e,De,e=>n(7,l=e)),i(e,Me,e=>n(8,s=e)),i(e,Ce,e=>n(44,o=e)),i(e,_e,e=>n(9,r=e)),i(e,Ae,e=>n(10,a=e)),i(e,Te,e=>n(11,c=e)),i(e,Re,e=>n(45,u=e)),i(e,Fe,e=>n(12,$=e)),i(e,ze,e=>n(13,f=e)),i(e,Ne,e=>n(14,d=e));let h=!1,v=!1,b=!1,w=window.matchMedia("(min-height: 48em)").matches,y=!0;const x=()=>{De.set(0),Te.set(o[0]),Me.set(0)};let k,_;return mt(),e.$$.update=()=>{1&e.$$.dirty[0]&&m&&(Xt(),(e=>{const t=URL.createObjectURL(e);return fetch(t).then(e=>e.text()).then(vt).catch(e=>e).then(e=>{if(URL.revokeObjectURL(t),e instanceof Error)throw e;return e})})(m[0]).then(x).catch(e=>alert(e.message)),n(0,m=null)),128&e.$$.dirty[0]&&n(42,k=ft(l)),256&e.$$.dirty[0]|2048&e.$$.dirty[1]&&n(43,_=k+s),128&e.$$.dirty[0]|4096&e.$$.dirty[1]&&(null!==l?je.set(_):je.set(-1))},[m,g,h,v,b,w,y,l,s,r,a,c,$,f,d,()=>{Xt(),je.set(-1),De.set(null)},()=>{Te.set(o[l])},()=>{Xt(),Te.set(o[l]),Me.set(0)},()=>{It()},()=>{Xt()},()=>{g.click()},()=>{const e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(ht())),e.setAttribute("download",r+".js"),e.style.display="none",document.body.appendChild(e),e.click(),e.remove()},()=>{n(2,h=!0)},()=>{n(3,v=!0)},e=>{const{key:t,shiftKey:n,altKey:l,ctrlKey:o,metaKey:r}=e;if(!(e=>"form"in e)(document.activeElement))if("ArrowLeft"===t)p(Ae,a--,a);else if("ArrowRight"===t)p(Ae,a++,a);else if("ArrowUp"===t)if(l){ut(c,a,s,n?.1:.01)}else{const e=n?4:1;p(Me,s=Math.max(0,s-e))}else if("ArrowDown"===t)if(l){ut(c,a,s,-(n?.1:.01))}else{const e=n?4:1;p(Me,s=Math.min(u[c][0].length-3,s+e))}else if(" "===t)$t(c,a,s,-1);else if("Backspace"===t)e.preventDefault(),$t(c,a,s,0);else if("Enter"===t)$?Xt():l?(n&&x(),It()):(n&&Me.set(0),Lt(c)),e.preventDefault();else if(!(n||l||r||o)){const e=Ut[t];e&&($t(c,a,s,e),Ft(u[c][a][0]||0,e))}},()=>{Xt(),mt(),x()},()=>{n(4,b=!0)},()=>{n(5,w=!w)},()=>{n(6,y=!y)},()=>{Xt(),vt('[[[,0,77,,,.7,2,.41,,,,,,,,.06],[,0,43,.01,,.3,2,,,,,,,,,.02,.01],[,0,170,.003,,.008,,.97,-35,53,,,,,,.1],[.8,0,270,,,.12,3,1.65,-2,,,,,4.5,,.02],[,0,86,,,.1,,.7,,,,.5,,6.7,1,.05],[,0,41,,.05,.4,2,0,,,9,.01,,,,.08,.02],[,0,2200,,,.04,3,2,,,800,.02,,4.8,,.01,.1],[.3,0,16,,,.3,3]],[[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33],[3,1,22,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,24,,,,,,,,,,,,,,,,,,,,,,,,22,,22,,22,,,,],[5,-1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[,1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33],[3,1,24,,,,,,,,27,,,,,,,,,,,,,,,,27,,,,24,,,,24,,,,,,,,27,,,,,,,,,,,,,,,,24,,24,,24,,,,],[5,-1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[,1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[6,1,,,34,34,34,,,,,,34,34,,,,,34,,,,34,34,,,,,34,,,,34,,,,34,34,34,,,,,,34,,,,,,34,34,,,34,34,,,,,,,,,34,34],[4,1,,,,,,,24,,,,,,24,,24,,,,24,,,,24,,,,,,,,,,,,,,,,24,,,,,,24,,24,,,,24,,,,24,,,,,,,,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,23,23,35,23,23,36,23,23,35,23,23,36,23,23,35,35,23,23,35,23,23,35,23,23,36,23,23,35,23,23,36,36],[5,-1,21,,,19,,,21,,,,,,,,,,21,,,19,,,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[3,1,24,,,24,,,24,,,,,,,,,,24,,,24,,,24,,,,24.75,24.5,24.26,24.01,24.01,24.01,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25],[4,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,24.75,24.5,24.26,24.01,24.01,24.01,24.01,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23,,21,23,,35,,23,,21,23,,35,,35,,23,,21,23,,35,,21,23,,35,,21,23,,,],[6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,34,36,34,,33,34,34,36,31,36,34,,31,34,32,,33,36,34,,31,34,34,36,33,36,33,,31,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29],[4,1,24,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,21,,19,21,,33,,21,,19,21,,33,,33,,21,,19,21,,33,,21,,19,21,,33,,33,,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29],[2,1,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,,,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,,,],[6,1,,,36,,,,,,36,,36,,,,,,,,36,,,,,,36,,36,,,,,,,,36,,,,,,,,,,,,,,,,36,,,,,,36,,36,,,,,,],[3,1,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25,,,,,25,,,,,25,,,25,,,,,,,,25,,,,,,,,25,25,25,25]],[[1,-1,14,14,26,14,14,26,14,14,26,14,14,26,14,14,26,26,14,14,26,14,14,26,14,14,26,14,14,26,14,14,26,26,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29,19,19,31,19,19,31,19,19,31,19,19,31,19,19,31,31],[4,1,24,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,36,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,19,,19,19,31,19,19,31,19,,19,19,31,19,19,31],[2,1,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,,,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,,,],[3,1,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25],[6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,34,,,,,,34,,34,,,,,,,,34,,,,,,34,,34,,,,,,]]],[0,1,1,2,3,4,4],,{"title":"Depp"}]'),x()},function(e){r=e,_e.set(r)},function(e){f=e,ze.set(f)},function(e){d=e,Ne.set(d)},function(e){l=e,De.set(l)},function(e){a=e,Ae.set(a)},function(e){s=e,Me.set(s)},function(e){c=e,Te.set(c)},function(e){h=e,n(2,h)},function(e){v=e,n(3,v)},function(e){b=e,n(4,b)},function(e){H[e?"unshift":"push"](()=>{g=e,n(1,g)})},function(){m=this.files,n(0,m)}]}return new class extends ye{constructor(e){super(),we(this,e,Ds,Ts,r,{},[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
